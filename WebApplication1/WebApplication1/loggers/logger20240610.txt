2024-06-10 12:53:02.667 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 12:53:02.890 +03:00 [DBG] Hosting starting
2024-06-10 12:53:03.425 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 12:53:03.432 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 12:53:03.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 12:53:03.462 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 12:53:03.464 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 12:53:03.475 +03:00 [INF] Hosting environment: Development
2024-06-10 12:53:03.480 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 12:53:03.481 +03:00 [DBG] Hosting started
2024-06-10 12:53:03.586 +03:00 [DBG] Connection id "0HN496CFFL5OB" accepted.
2024-06-10 12:53:03.632 +03:00 [DBG] Connection id "0HN496CFFL5OB" started.
2024-06-10 12:53:03.824 +03:00 [DBG] Connection id "0HN496CFFL5OC" accepted.
2024-06-10 12:53:03.875 +03:00 [DBG] Connection id "0HN496CFFL5OC" started.
2024-06-10 12:53:08.726 +03:00 [DBG] Connection id "0HN496CFFL5OD" accepted.
2024-06-10 12:53:08.797 +03:00 [DBG] Connection id "0HN496CFFL5OD" started.
2024-06-10 12:53:08.799 +03:00 [DBG] Connection id "0HN496CFFL5OE" accepted.
2024-06-10 12:53:08.823 +03:00 [DBG] Connection id "0HN496CFFL5OE" started.
2024-06-10 12:53:08.876 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 12:53:09.357 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 12:53:09.399 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 12:53:09.402 +03:00 [DBG] Request did not match any endpoints
2024-06-10 12:53:09.658 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 12:53:09.928 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 12:53:09.956 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 12:53:10.037 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 12:53:10.051 +03:00 [DBG] Connection id "0HN496CFFL5OF" accepted.
2024-06-10 12:53:10.059 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 12:53:10.063 +03:00 [DBG] Connection id "0HN496CFFL5OF" started.
2024-06-10 12:53:10.067 +03:00 [DBG] Connection id "0HN496CFFL5OE" completed keep alive response.
2024-06-10 12:53:10.083 +03:00 [DBG] Connection id "0HN496CFFL5OD" completed keep alive response.
2024-06-10 12:53:10.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 12:53:10.097 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 59.2439ms
2024-06-10 12:53:10.106 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 1245.6882ms
2024-06-10 12:53:10.352 +03:00 [DBG] Connection id "0HN496CFFL5OF" completed keep alive response.
2024-06-10 12:53:10.359 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 268.8908ms
2024-06-10 12:53:10.473 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 12:53:10.476 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 12:53:10.478 +03:00 [DBG] Request did not match any endpoints
2024-06-10 12:53:11.078 +03:00 [DBG] Connection id "0HN496CFFL5OF" completed keep alive response.
2024-06-10 12:53:11.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 612.5464ms
2024-06-10 12:53:15.936 +03:00 [DBG] Connection id "0HN496CFFL5OE" received FIN.
2024-06-10 12:53:15.943 +03:00 [DBG] Connection id "0HN496CFFL5OD" received FIN.
2024-06-10 12:53:15.951 +03:00 [DBG] Connection id "0HN496CFFL5OF" received FIN.
2024-06-10 12:53:16.029 +03:00 [DBG] Connection id "0HN496CFFL5OE" disconnecting.
2024-06-10 12:53:16.032 +03:00 [DBG] Connection id "0HN496CFFL5OD" disconnecting.
2024-06-10 12:53:16.041 +03:00 [DBG] Connection id "0HN496CFFL5OD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:53:16.041 +03:00 [DBG] Connection id "0HN496CFFL5OE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:53:16.045 +03:00 [DBG] Connection id "0HN496CFFL5OF" disconnecting.
2024-06-10 12:53:16.049 +03:00 [DBG] Connection id "0HN496CFFL5OF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:53:16.050 +03:00 [DBG] Connection id "0HN496CFFL5OD" stopped.
2024-06-10 12:53:16.050 +03:00 [DBG] Connection id "0HN496CFFL5OE" stopped.
2024-06-10 12:53:16.053 +03:00 [DBG] Connection id "0HN496CFFL5OF" stopped.
2024-06-10 12:53:29.637 +03:00 [DBG] Connection id "0HN496CFFL5OG" accepted.
2024-06-10 12:53:29.640 +03:00 [DBG] Connection id "0HN496CFFL5OG" started.
2024-06-10 12:53:29.642 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - null 0
2024-06-10 12:53:29.654 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:53:29.662 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:53:29.699 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:53:29.721 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:53:29.725 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 12:53:29.732 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:53:29.793 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:53:29.798 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:53:29.800 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:53:29.805 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:53:29.809 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:53:29.811 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:53:29.816 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:53:30.268 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 12:53:30.513 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:53:30.530 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:53:30.536 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:53:30.543 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:53:30.544 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:53:30.546 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:53:30.550 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:53:30.554 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:53:30.556 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:53:30.558 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:53:30.560 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:53:30.562 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:53:30.564 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:53:30.565 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:53:30.567 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:53:30.571 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:53:30.572 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:53:30.574 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:53:30.575 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:53:30.577 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:53:30.579 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:53:30.582 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:53:30.583 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:53:30.587 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:53:30.589 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:53:31.779 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:53:31.834 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:53:31.908 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:53:31.917 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:53:31.925 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:53:31.955 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:53:32.072 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:53:32.139 +03:00 [DBG] Created DbConnection. (65ms).
2024-06-10 12:53:32.145 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:35.873 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:35.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:53:35.931 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-06-10 12:53:35.953 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (61ms).
2024-06-10 12:53:36.094 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:53:36.786 +03:00 [INF] Executed DbCommand (810ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:53:36.816 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:53:36.846 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:36.859 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 57ms reading results.
2024-06-10 12:53:36.867 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:36.877 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (10ms).
2024-06-10 12:53:36.894 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:53:36.899 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:53:36.910 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:53:36.917 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 12:53:36.968 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 12:53:37.140 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 12:53:37.143 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 12:53:37.149 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 7332.426ms
2024-06-10 12:53:37.152 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:53:37.155 +03:00 [DBG] Connection id "0HN496CFFL5OG" completed keep alive response.
2024-06-10 12:53:37.159 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:53:37.169 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:37.172 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-06-10 12:53:37.175 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - 406 0 null 7532.7385ms
2024-06-10 12:53:45.956 +03:00 [DBG] Connection id "0HN496CFFL5OG" received FIN.
2024-06-10 12:53:45.961 +03:00 [DBG] Connection id "0HN496CFFL5OG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:53:45.964 +03:00 [DBG] Connection id "0HN496CFFL5OG" disconnecting.
2024-06-10 12:53:45.965 +03:00 [DBG] Connection id "0HN496CFFL5OG" stopped.
2024-06-10 12:53:46.143 +03:00 [DBG] Connection id "0HN496CFFL5OH" accepted.
2024-06-10 12:53:46.151 +03:00 [DBG] Connection id "0HN496CFFL5OH" started.
2024-06-10 12:53:46.153 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - null 0
2024-06-10 12:53:46.159 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:53:46.161 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:53:46.163 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:53:46.165 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:53:46.166 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:53:46.192 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:53:46.212 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:53:46.216 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:53:46.227 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:53:46.230 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:53:46.232 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:53:46.237 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:53:46.243 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:53:46.245 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:53:46.247 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:53:46.249 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:53:46.252 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:53:46.254 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:53:46.256 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:53:46.258 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:53:46.260 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:53:46.262 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:53:46.264 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:53:46.266 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:53:46.270 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:53:46.272 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:53:46.274 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:53:46.276 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:53:46.277 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:53:46.279 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:53:46.281 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:53:46.283 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:53:46.287 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:53:46.289 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:53:46.291 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:53:46.293 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:53:46.295 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:53:46.416 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:53:46.426 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:53:46.429 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:53:46.432 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:53:46.440 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:53:46.442 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:53:46.446 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:53:46.448 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 12:53:46.450 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:46.459 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:46.461 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:53:46.463 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:53:46.465 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 12:53:46.471 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:53:46.488 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:53:46.492 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:53:46.496 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:46.498 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 12:53:46.503 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:46.506 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 12:53:46.508 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:53:46.513 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:53:46.515 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:53:46.522 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:53:46.526 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:53:46.528 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:53:46.568 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:53:46.581 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:53:46.588 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:53:46.765 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 528.5841ms
2024-06-10 12:53:46.771 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:53:46.773 +03:00 [DBG] Connection id "0HN496CFFL5OH" completed keep alive response.
2024-06-10 12:53:46.775 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:53:46.777 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:53:46.780 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 12:53:46.782 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - 201 178 text/json; charset=utf-8 629.4142ms
2024-06-10 12:53:55.963 +03:00 [DBG] Connection id "0HN496CFFL5OH" received FIN.
2024-06-10 12:53:55.967 +03:00 [DBG] Connection id "0HN496CFFL5OH" disconnecting.
2024-06-10 12:53:55.969 +03:00 [DBG] Connection id "0HN496CFFL5OH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:53:55.970 +03:00 [DBG] Connection id "0HN496CFFL5OH" stopped.
2024-06-10 12:54:12.629 +03:00 [DBG] Connection id "0HN496CFFL5OI" accepted.
2024-06-10 12:54:12.634 +03:00 [DBG] Connection id "0HN496CFFL5OI" started.
2024-06-10 12:54:12.637 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - null null
2024-06-10 12:54:12.657 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:12.659 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:12.661 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:12.663 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:12.671 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:12.684 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:12.688 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:12.690 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:12.692 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:12.695 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:12.697 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:12.700 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:12.710 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:12.713 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:12.717 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:54:12.723 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:12.724 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:12.727 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:12.729 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:12.731 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:12.737 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:54:12.743 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:12.749 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:12.755 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:12.758 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:12.864 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:12.940 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(x => x.IsActive == True)
    .Skip(__p_0)
    .Take(__p_1)'
2024-06-10 12:54:13.147 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 12:54:13.151 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 12:54:13.361 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Booking>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckOutAt (DateTime) Required, 1], [Property: Booking.CheckinAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.IsActive (bool) Required, 4], [Property: Booking.Price (double) Required, 5] }
        SELECT b.Id, b.CheckOutAt, b.CheckinAt, b.EmployeeId, b.IsActive, b.Price
        FROM bookings AS b
        WHERE b.IsActive == CAST(1 AS bit)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Booking entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Booking instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Booking);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Booking.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Booking)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]: 
                        {
                            return 
                            {
                                Booking instance;
                                instance = new Booking();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CheckOutAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CheckinAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<EmployeeId>k__BackingField = dataReader.GetInt32(3);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Booking)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-10 12:54:13.418 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:13.419 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:13.421 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:13.422 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:13.424 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:13.425 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:13.427 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 12:54:13.428 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:54:13.439 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:54:13.456 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.459 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.461 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.463 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.466 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.468 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.470 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:13.475 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:13.477 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 29ms reading results.
2024-06-10 12:54:13.479 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:13.482 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 12:54:13.504 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:13.508 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 12:54:13.510 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 12:54:13.512 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 12:54:13.514 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 813.3348ms
2024-06-10 12:54:13.516 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:13.518 +03:00 [DBG] Connection id "0HN496CFFL5OI" completed keep alive response.
2024-06-10 12:54:13.519 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:13.521 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:13.523 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:54:13.525 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - 406 0 null 887.937ms
2024-06-10 12:54:15.991 +03:00 [DBG] Connection id "0HN496CFFL5OI" received FIN.
2024-06-10 12:54:15.995 +03:00 [DBG] Connection id "0HN496CFFL5OI" disconnecting.
2024-06-10 12:54:15.996 +03:00 [DBG] Connection id "0HN496CFFL5OI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:54:16.000 +03:00 [DBG] Connection id "0HN496CFFL5OI" stopped.
2024-06-10 12:54:19.755 +03:00 [DBG] Connection id "0HN496CFFL5OJ" accepted.
2024-06-10 12:54:19.757 +03:00 [DBG] Connection id "0HN496CFFL5OJ" started.
2024-06-10 12:54:19.759 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - null null
2024-06-10 12:54:19.762 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:19.764 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:19.767 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:19.770 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:19.771 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:19.774 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:19.828 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:19.845 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:19.857 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:19.861 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:19.863 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:19.866 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:19.869 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:19.871 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:19.873 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:54:19.875 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:19.877 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:19.879 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:19.882 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:19.884 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:19.886 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:54:19.888 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:19.890 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:19.891 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:19.893 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:19.896 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:19.909 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:19.910 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:19.912 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:19.918 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:19.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:19.922 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:19.925 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 12:54:19.927 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:54:19.939 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:54:19.944 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.951 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.957 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.959 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.962 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.967 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.971 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:19.973 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:19.976 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 32ms reading results.
2024-06-10 12:54:19.979 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:19.985 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (6ms).
2024-06-10 12:54:19.988 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:19.993 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:54:19.995 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:54:20.000 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:54:20.008 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 141.9343ms
2024-06-10 12:54:20.012 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:20.017 +03:00 [DBG] Connection id "0HN496CFFL5OJ" completed keep alive response.
2024-06-10 12:54:20.019 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:20.020 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:20.022 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:54:20.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - 200 870 text/json; charset=utf-8 264.8817ms
2024-06-10 12:54:26.003 +03:00 [DBG] Connection id "0HN496CFFL5OJ" received FIN.
2024-06-10 12:54:26.008 +03:00 [DBG] Connection id "0HN496CFFL5OJ" disconnecting.
2024-06-10 12:54:26.009 +03:00 [DBG] Connection id "0HN496CFFL5OJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:54:26.018 +03:00 [DBG] Connection id "0HN496CFFL5OJ" stopped.
2024-06-10 12:54:36.249 +03:00 [DBG] Connection id "0HN496CFFL5OK" accepted.
2024-06-10 12:54:36.252 +03:00 [DBG] Connection id "0HN496CFFL5OK" started.
2024-06-10 12:54:36.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - null null
2024-06-10 12:54:36.255 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:36.256 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:36.258 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:36.260 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:36.262 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:36.263 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:36.267 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:36.269 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:36.271 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:36.274 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:36.276 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:36.279 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:36.283 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:36.287 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:36.289 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:54:36.291 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:36.293 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:36.295 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:36.297 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:36.299 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:36.301 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:54:36.303 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:36.305 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:36.306 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:36.308 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:36.311 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:36.317 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(x => x.IsActive == True)
    .Skip(__p_0)
    .Take(__p_0)'
2024-06-10 12:54:36.320 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 12:54:36.322 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 12:54:36.329 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Booking>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckOutAt (DateTime) Required, 1], [Property: Booking.CheckinAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.IsActive (bool) Required, 4], [Property: Booking.Price (double) Required, 5] }
        SELECT b.Id, b.CheckOutAt, b.CheckinAt, b.EmployeeId, b.IsActive, b.Price
        FROM bookings AS b
        WHERE b.IsActive == CAST(1 AS bit)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Booking entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Booking instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Booking);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Booking.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Booking)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]: 
                        {
                            return 
                            {
                                Booking instance;
                                instance = new Booking();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CheckOutAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CheckinAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<EmployeeId>k__BackingField = dataReader.GetInt32(3);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Booking)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-10 12:54:36.342 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:36.343 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:36.344 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:36.346 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:36.348 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:36.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:36.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:54:36.353 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:54:36.359 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:54:36.362 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:36.365 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-06-10 12:54:36.367 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:36.369 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:54:36.371 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:36.374 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:54:36.376 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:54:36.378 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:54:36.382 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 102.9419ms
2024-06-10 12:54:36.384 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:36.386 +03:00 [DBG] Connection id "0HN496CFFL5OK" completed keep alive response.
2024-06-10 12:54:36.388 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:36.389 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:36.391 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:54:36.394 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - 200 2 text/json; charset=utf-8 141.1415ms
2024-06-10 12:54:43.503 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - null 0
2024-06-10 12:54:43.506 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:43.507 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:43.509 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:54:43.511 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:43.513 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:54:43.515 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:43.518 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:43.520 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:43.523 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:43.527 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:43.533 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:43.538 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:43.540 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:43.543 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:54:43.545 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:54:43.550 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:54:43.553 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:54:43.554 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:54:43.556 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:54:43.559 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:54:43.560 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:54:43.567 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:54:43.569 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:54:43.571 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:54:43.575 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:54:43.577 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:54:43.580 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:54:43.585 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:54:43.587 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:54:43.589 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:54:43.590 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:54:43.592 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:54:43.594 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:54:43.599 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:54:43.601 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:54:43.603 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:54:43.605 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:54:43.607 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:43.610 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:43.613 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:43.616 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:54:43.617 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:54:43.619 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:54:43.621 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:43.622 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:43.623 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:43.625 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:43.627 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:43.628 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:43.631 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 12:54:43.633 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:54:43.641 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:54:43.645 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:54:43.650 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:43.652 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-06-10 12:54:43.655 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:43.656 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:54:43.658 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:43.661 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:54:43.665 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:43.669 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:54:43.671 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:54:43.673 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:54:43.676 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:54:43.680 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:54:43.684 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:54:43.687 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 149.3679ms
2024-06-10 12:54:43.689 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:54:43.691 +03:00 [DBG] Connection id "0HN496CFFL5OK" completed keep alive response.
2024-06-10 12:54:43.692 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:43.694 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:43.697 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 12:54:43.699 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - 201 178 text/json; charset=utf-8 196.1229ms
2024-06-10 12:54:45.873 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - null null
2024-06-10 12:54:45.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:45.882 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:45.884 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:45.888 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:45.889 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:45.891 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:45.895 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:45.901 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:45.908 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:45.915 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:45.919 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:45.921 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:45.924 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:45.926 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:45.928 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:54:45.936 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:45.938 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:45.939 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:45.941 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:45.944 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:45.949 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:54:45.952 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:45.954 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:45.955 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:45.957 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:45.960 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:45.965 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:45.967 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:45.968 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:45.970 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:45.971 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:45.973 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:45.975 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:54:45.976 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:54:45.986 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:54:45.989 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:45.991 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-06-10 12:54:45.993 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:45.995 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:54:46.000 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:46.004 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:54:46.006 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:54:46.008 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:54:46.010 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 88.9327ms
2024-06-10 12:54:46.017 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:46.017 +03:00 [DBG] Connection id "0HN496CFFL5OK" received FIN.
2024-06-10 12:54:46.026 +03:00 [DBG] Connection id "0HN496CFFL5OK" completed keep alive response.
2024-06-10 12:54:46.028 +03:00 [DBG] Connection id "0HN496CFFL5OK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:54:46.033 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:46.035 +03:00 [DBG] Connection id "0HN496CFFL5OK" disconnecting.
2024-06-10 12:54:46.036 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:46.039 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 12:54:46.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - 200 2 text/json; charset=utf-8 168.0911ms
2024-06-10 12:54:46.046 +03:00 [DBG] Connection id "0HN496CFFL5OK" stopped.
2024-06-10 12:54:48.475 +03:00 [DBG] Connection id "0HN496CFFL5OL" accepted.
2024-06-10 12:54:48.481 +03:00 [DBG] Connection id "0HN496CFFL5OL" started.
2024-06-10 12:54:48.482 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - null null
2024-06-10 12:54:48.485 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:48.486 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:48.489 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:48.491 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:48.492 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:48.493 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:48.497 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:48.499 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:48.501 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:48.508 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:48.510 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:48.517 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:48.519 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:48.521 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:48.523 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:54:48.525 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:48.527 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:48.531 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:48.533 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:48.536 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:48.537 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:54:48.540 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:48.541 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:48.543 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:48.545 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:48.550 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:48.553 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:48.554 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:48.555 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:48.557 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:48.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:48.561 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:48.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-10 12:54:48.567 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:54:48.573 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:54:48.577 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:48.584 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 12:54:48.586 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:48.588 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:54:48.591 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:48.601 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:54:48.604 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:54:48.606 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:54:48.609 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 91.8108ms
2024-06-10 12:54:48.619 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:48.621 +03:00 [DBG] Connection id "0HN496CFFL5OL" completed keep alive response.
2024-06-10 12:54:48.624 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:48.626 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:48.631 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-06-10 12:54:48.634 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - 200 2 text/json; charset=utf-8 151.1979ms
2024-06-10 12:54:53.304 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - null null
2024-06-10 12:54:53.308 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:54:53.310 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:54:53.312 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:53.314 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:54:53.315 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:53.317 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:54:53.321 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:54:53.322 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:54:53.326 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:54:53.339 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:54:53.342 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:54:53.346 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:53.351 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:54:53.353 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:53.355 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:54:53.357 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:53.359 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:53.361 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:54:53.366 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:54:53.368 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:53.370 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:54:53.373 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:53.375 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:53.377 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:54:53.386 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:54:53.389 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:54:53.393 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:54:53.394 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:54:53.401 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:53.402 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:53.404 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:54:53.406 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:54:53.408 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 12:54:53.410 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:54:53.427 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:54:53.442 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.447 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.456 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.459 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.471 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.475 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.480 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.489 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:54:53.492 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:53.504 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 61ms reading results.
2024-06-10 12:54:53.508 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:53.511 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-06-10 12:54:53.521 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:54:53.529 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:54:53.535 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:54:53.538 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:54:53.542 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 195.7732ms
2024-06-10 12:54:53.557 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:54:53.559 +03:00 [DBG] Connection id "0HN496CFFL5OL" completed keep alive response.
2024-06-10 12:54:53.561 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:54:53.563 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:54:53.565 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:54:53.567 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - 200 995 text/json; charset=utf-8 262.6481ms
2024-06-10 12:54:56.029 +03:00 [DBG] Connection id "0HN496CFFL5OL" received FIN.
2024-06-10 12:54:56.032 +03:00 [DBG] Connection id "0HN496CFFL5OL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:54:56.035 +03:00 [DBG] Connection id "0HN496CFFL5OL" disconnecting.
2024-06-10 12:54:56.036 +03:00 [DBG] Connection id "0HN496CFFL5OL" stopped.
2024-06-10 12:55:02.867 +03:00 [DBG] Connection id "0HN496CFFL5OM" accepted.
2024-06-10 12:55:02.872 +03:00 [DBG] Connection id "0HN496CFFL5OM" started.
2024-06-10 12:55:02.874 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - null 0
2024-06-10 12:55:02.880 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:55:02.884 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:55:02.886 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:02.890 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:55:02.910 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:02.915 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:55:02.919 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:55:02.921 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:55:02.924 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:55:02.930 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:55:02.933 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:55:02.936 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:02.938 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:02.941 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:55:02.943 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:55:02.949 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:02.951 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:02.953 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:55:02.956 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:02.958 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:55:02.960 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:55:02.965 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:02.967 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:02.971 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:55:02.973 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:02.975 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:55:02.980 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:55:02.982 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:55:02.984 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:55:02.985 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:55:02.988 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:55:02.990 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:55:02.992 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:55:02.996 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:02.998 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:03.000 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:55:03.002 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:03.005 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:55:03.008 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:03.011 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:03.013 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:55:03.015 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:55:03.016 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:55:03.018 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:55:03.020 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:55:03.021 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.023 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.024 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:55:03.026 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:55:03.028 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 12:55:03.031 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:55:03.039 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:55:03.043 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:55:03.047 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.049 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-06-10 12:55:03.051 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.053 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:55:03.056 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:03.059 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:55:03.064 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:55:03.069 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:55:03.071 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:55:03.074 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:55:03.077 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:55:03.082 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:55:03.086 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:55:03.089 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 153.0667ms
2024-06-10 12:55:03.093 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:03.096 +03:00 [DBG] Connection id "0HN496CFFL5OM" completed keep alive response.
2024-06-10 12:55:03.098 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:55:03.101 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.104 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 12:55:03.107 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - 201 178 text/json; charset=utf-8 232.3675ms
2024-06-10 12:55:03.725 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - null 0
2024-06-10 12:55:03.728 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:55:03.729 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:55:03.731 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:03.733 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:55:03.734 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:03.735 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:55:03.739 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:55:03.741 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:55:03.743 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:55:03.746 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:55:03.748 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:55:03.751 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:03.753 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:03.755 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:55:03.758 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:55:03.763 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:03.766 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:03.768 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:55:03.770 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:03.771 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:55:03.773 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:55:03.775 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:03.777 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:03.780 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:55:03.782 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:03.783 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:55:03.785 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:55:03.787 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:55:03.788 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:55:03.790 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:55:03.791 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:55:03.792 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:55:03.796 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:55:03.798 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:03.800 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:03.803 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:55:03.806 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:03.809 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:55:03.818 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:03.821 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:03.824 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:55:03.827 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:55:03.832 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:55:03.836 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:55:03.838 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 12:55:03.841 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.845 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:55:03.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 12:55:03.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 12:55:03.857 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:55:03.869 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:55:03.874 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:55:03.877 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.884 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-06-10 12:55:03.887 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.889 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 12:55:03.892 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:03.898 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:55:03.900 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:55:03.905 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:55:03.907 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:55:03.910 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:55:03.915 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:55:03.919 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:55:03.922 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:55:03.926 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 175.0886ms
2024-06-10 12:55:03.934 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:03.939 +03:00 [DBG] Connection id "0HN496CFFL5OM" completed keep alive response.
2024-06-10 12:55:03.942 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:55:03.945 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:03.947 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:55:03.951 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - 201 178 text/json; charset=utf-8 225.6475ms
2024-06-10 12:55:04.778 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - null 0
2024-06-10 12:55:04.781 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:55:04.782 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:55:04.785 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:04.786 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:55:04.787 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:04.790 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:55:04.797 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:55:04.798 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:55:04.800 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:55:04.803 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:55:04.806 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:55:04.808 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:04.814 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:04.816 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:55:04.818 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:55:04.820 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:04.821 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:04.823 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:55:04.824 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:55:04.826 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:55:04.828 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:55:04.831 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:04.833 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:04.834 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:55:04.835 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:55:04.837 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:55:04.839 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:55:04.840 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:55:04.842 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:55:04.843 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:55:04.848 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:55:04.850 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:55:04.851 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:55:04.853 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:04.855 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:04.856 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:55:04.858 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:55:04.861 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:55:04.864 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:04.866 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:04.868 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:55:04.869 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:55:04.870 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:55:04.872 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:55:04.873 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-10 12:55:04.874 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:04.876 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:04.877 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:55:04.879 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 12:55:04.881 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:55:04.882 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:55:04.890 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:55:04.900 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:55:04.903 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:04.906 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 12:55:04.910 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:04.915 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 12:55:04.918 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:04.920 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:55:04.922 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:55:04.931 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:55:04.933 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:55:04.936 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:55:04.938 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:55:04.942 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:55:04.947 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:55:04.951 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 142.7562ms
2024-06-10 12:55:04.975 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:55:04.980 +03:00 [DBG] Connection id "0HN496CFFL5OM" completed keep alive response.
2024-06-10 12:55:04.981 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:55:04.982 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:04.984 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:55:04.986 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7000&EmployeeId=1 - 201 178 text/json; charset=utf-8 208.5872ms
2024-06-10 12:55:06.049 +03:00 [DBG] Connection id "0HN496CFFL5OM" received FIN.
2024-06-10 12:55:06.053 +03:00 [DBG] Connection id "0HN496CFFL5OM" disconnecting.
2024-06-10 12:55:06.058 +03:00 [DBG] Connection id "0HN496CFFL5OM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:55:06.060 +03:00 [DBG] Connection id "0HN496CFFL5OM" stopped.
2024-06-10 12:55:11.292 +03:00 [DBG] Connection id "0HN496CFFL5ON" accepted.
2024-06-10 12:55:11.296 +03:00 [DBG] Connection id "0HN496CFFL5ON" started.
2024-06-10 12:55:11.298 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - null null
2024-06-10 12:55:11.301 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:55:11.302 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:55:11.305 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:55:11.307 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:55:11.308 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:55:11.309 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:55:11.314 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:55:11.317 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:55:11.319 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:55:11.323 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:55:11.325 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:55:11.331 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:11.333 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:55:11.335 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:55:11.337 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:55:11.339 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:55:11.340 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:55:11.342 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:55:11.346 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:55:11.348 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:55:11.350 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:55:11.352 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:55:11.354 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:55:11.356 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:55:11.357 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:55:11.359 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:55:11.365 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:55:11.366 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:55:11.368 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:11.369 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:11.371 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:55:11.372 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:55:11.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:55:11.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:55:11.383 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 12:55:11.387 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:55:11.389 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:11.391 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-06-10 12:55:11.393 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:11.396 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-06-10 12:55:11.398 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:55:11.402 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:55:11.404 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:55:11.405 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:55:11.407 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 76.9864ms
2024-06-10 12:55:11.411 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 12:55:11.414 +03:00 [DBG] Connection id "0HN496CFFL5ON" completed keep alive response.
2024-06-10 12:55:11.416 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:55:11.417 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:55:11.419 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:55:11.421 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - 200 126 text/json; charset=utf-8 123.2383ms
2024-06-10 12:55:16.050 +03:00 [DBG] Connection id "0HN496CFFL5ON" received FIN.
2024-06-10 12:55:16.053 +03:00 [DBG] Connection id "0HN496CFFL5ON" disconnecting.
2024-06-10 12:55:16.055 +03:00 [DBG] Connection id "0HN496CFFL5ON" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:55:16.065 +03:00 [DBG] Connection id "0HN496CFFL5ON" stopped.
2024-06-10 12:57:59.498 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 12:57:59.726 +03:00 [DBG] Hosting starting
2024-06-10 12:58:00.399 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 12:58:00.400 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 12:58:00.402 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 12:58:00.403 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 12:58:00.405 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 12:58:00.407 +03:00 [INF] Hosting environment: Development
2024-06-10 12:58:00.408 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 12:58:00.410 +03:00 [DBG] Hosting started
2024-06-10 12:58:00.455 +03:00 [DBG] Connection id "0HN496F7UQJ6F" accepted.
2024-06-10 12:58:00.458 +03:00 [DBG] Connection id "0HN496F7UQJ6F" started.
2024-06-10 12:58:00.501 +03:00 [DBG] Connection id "0HN496F7UQJ6F" received FIN.
2024-06-10 12:58:00.567 +03:00 [DBG] Connection id "0HN496F7UQJ6F" disconnecting.
2024-06-10 12:58:00.575 +03:00 [DBG] Connection id "0HN496F7UQJ6F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:58:00.582 +03:00 [DBG] Connection id "0HN496F7UQJ6F" stopped.
2024-06-10 12:58:00.971 +03:00 [DBG] Connection id "0HN496F7UQJ6G" accepted.
2024-06-10 12:58:01.357 +03:00 [DBG] Connection id "0HN496F7UQJ6G" started.
2024-06-10 12:58:01.359 +03:00 [DBG] Connection id "0HN496F7UQJ6H" accepted.
2024-06-10 12:58:01.362 +03:00 [DBG] Connection id "0HN496F7UQJ6H" started.
2024-06-10 12:58:01.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 12:58:01.594 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 12:58:01.631 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 12:58:01.636 +03:00 [DBG] Request did not match any endpoints
2024-06-10 12:58:01.865 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 12:58:01.870 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 12:58:01.892 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 12:58:02.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 12:58:02.009 +03:00 [DBG] Connection id "0HN496F7UQJ6I" accepted.
2024-06-10 12:58:02.086 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 12:58:02.091 +03:00 [DBG] Connection id "0HN496F7UQJ6I" started.
2024-06-10 12:58:02.093 +03:00 [DBG] Connection id "0HN496F7UQJ6H" completed keep alive response.
2024-06-10 12:58:02.093 +03:00 [DBG] Connection id "0HN496F7UQJ6G" completed keep alive response.
2024-06-10 12:58:02.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 12:58:02.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 36.4503ms
2024-06-10 12:58:02.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 708.3309ms
2024-06-10 12:58:02.195 +03:00 [DBG] Connection id "0HN496F7UQJ6I" completed keep alive response.
2024-06-10 12:58:02.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.8968ms
2024-06-10 12:58:02.304 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 12:58:02.309 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 12:58:02.311 +03:00 [DBG] Request did not match any endpoints
2024-06-10 12:58:02.773 +03:00 [DBG] Connection id "0HN496F7UQJ6I" completed keep alive response.
2024-06-10 12:58:02.863 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 558.988ms
2024-06-10 12:58:08.978 +03:00 [DBG] Connection id "0HN496F7UQJ6H" received FIN.
2024-06-10 12:58:08.978 +03:00 [DBG] Connection id "0HN496F7UQJ6G" received FIN.
2024-06-10 12:58:08.978 +03:00 [DBG] Connection id "0HN496F7UQJ6I" received FIN.
2024-06-10 12:58:08.982 +03:00 [DBG] Connection id "0HN496F7UQJ6H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:58:08.983 +03:00 [DBG] Connection id "0HN496F7UQJ6G" disconnecting.
2024-06-10 12:58:08.988 +03:00 [DBG] Connection id "0HN496F7UQJ6H" disconnecting.
2024-06-10 12:58:08.989 +03:00 [DBG] Connection id "0HN496F7UQJ6G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:58:08.991 +03:00 [DBG] Connection id "0HN496F7UQJ6H" stopped.
2024-06-10 12:58:08.991 +03:00 [DBG] Connection id "0HN496F7UQJ6I" disconnecting.
2024-06-10 12:58:08.997 +03:00 [DBG] Connection id "0HN496F7UQJ6I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:58:08.996 +03:00 [DBG] Connection id "0HN496F7UQJ6G" stopped.
2024-06-10 12:58:09.012 +03:00 [DBG] Connection id "0HN496F7UQJ6I" stopped.
2024-06-10 12:58:20.107 +03:00 [DBG] Connection id "0HN496F7UQJ6J" accepted.
2024-06-10 12:58:20.113 +03:00 [DBG] Connection id "0HN496F7UQJ6J" started.
2024-06-10 12:58:20.115 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7700&EmployeeId=1 - null 0
2024-06-10 12:58:20.131 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:58:20.138 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:58:20.141 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:20.148 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:58:20.151 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 12:58:20.156 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:20.215 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:58:20.224 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:58:20.226 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:58:20.228 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:58:20.233 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:58:20.236 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:58:20.240 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:58:20.508 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 12:58:20.759 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:58:20.773 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:58:20.778 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:58:20.784 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:20.785 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:20.787 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:58:20.791 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:20.794 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:58:20.798 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:58:20.801 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:20.802 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:20.804 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:58:20.806 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:20.807 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:58:20.809 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:58:20.812 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:58:20.814 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:58:20.816 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:58:20.818 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:58:20.819 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:58:20.821 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:58:20.824 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:20.825 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:20.827 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:58:20.830 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:22.069 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:58:22.191 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 12:58:22.501 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-10 12:58:22.641 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:58:22.691 +03:00 [DBG] Created DbConnection. (48ms).
2024-06-10 12:58:22.698 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.119 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:58:23.138 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-06-10 12:58:23.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-06-10 12:58:23.169 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:58:23.249 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:58:23.293 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:23.332 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.343 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 85ms reading results.
2024-06-10 12:58:23.349 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.361 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (11ms).
2024-06-10 12:58:23.405 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:23.464 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:23.491 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:23.511 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:58:23.520 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:58:23.554 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:58:23.687 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.694 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:58:23.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:58:23.711 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 12:58:23.719 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:58:23.760 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:58:23.793 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:58:23.810 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.814 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 45ms reading results.
2024-06-10 12:58:23.820 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.823 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 12:58:23.836 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:23.841 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:58:23.851 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:58:23.858 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 12:58:23.864 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 12:58:23.911 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 12:58:23.916 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 12:58:23.922 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 3680.4137ms
2024-06-10 12:58:23.925 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:23.928 +03:00 [DBG] Connection id "0HN496F7UQJ6J" completed keep alive response.
2024-06-10 12:58:23.936 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:58:23.944 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:23.964 +03:00 [DBG] Disposed connection to database '' on server '' (19ms).
2024-06-10 12:58:24.009 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7700&EmployeeId=1 - 406 0 null 3893.4809ms
2024-06-10 12:58:25.567 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7700&EmployeeId=1 - null 0
2024-06-10 12:58:25.573 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:58:25.575 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:58:25.578 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:25.580 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:58:25.608 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:25.624 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:58:25.633 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:58:25.636 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:58:25.640 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:58:25.643 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:58:25.650 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:58:25.654 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:58:25.659 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:58:25.664 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:58:25.668 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:58:25.671 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:25.672 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:25.674 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:58:25.676 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:25.678 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:58:25.684 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:58:25.687 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:25.689 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:25.690 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:58:25.692 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:25.694 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:58:25.703 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:58:25.705 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:58:25.706 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:58:25.708 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:58:25.710 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:58:25.715 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:58:25.718 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:58:25.720 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:25.722 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:25.724 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:58:25.726 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:25.776 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:58:25.789 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:58:25.791 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:58:25.793 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.794 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.798 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:58:25.800 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:58:25.802 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:58:25.804 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:58:25.810 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:58:25.816 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:25.818 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.820 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 12:58:25.823 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.824 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:58:25.828 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:25.832 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:25.834 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:25.836 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:58:25.837 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:58:25.838 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:58:25.842 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.843 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.846 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:58:25.848 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:58:25.851 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 12:58:25.852 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:58:25.868 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:58:25.871 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:58:25.873 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.875 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-06-10 12:58:25.877 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:25.879 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:58:25.883 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:25.885 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:58:25.888 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:58:25.892 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:58:25.894 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:58:25.898 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:58:25.921 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:58:25.932 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:58:25.936 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:58:26.128 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 473.9314ms
2024-06-10 12:58:26.131 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:26.135 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 12:58:26.168 +03:00 [DBG] Connection id "0HN496F7UQJ6J" completed keep alive response.
2024-06-10 12:58:26.170 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:58:26.172 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:26.176 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 12:58:26.178 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7700&EmployeeId=1 - 500 null text/plain; charset=utf-8 610.5447ms
2024-06-10 12:58:28.997 +03:00 [DBG] Connection id "0HN496F7UQJ6J" received FIN.
2024-06-10 12:58:29.001 +03:00 [DBG] Connection id "0HN496F7UQJ6J" disconnecting.
2024-06-10 12:58:29.002 +03:00 [DBG] Connection id "0HN496F7UQJ6J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:58:29.013 +03:00 [DBG] Connection id "0HN496F7UQJ6J" stopped.
2024-06-10 12:58:36.496 +03:00 [DBG] Connection id "0HN496F7UQJ6K" accepted.
2024-06-10 12:58:36.508 +03:00 [DBG] Connection id "0HN496F7UQJ6K" started.
2024-06-10 12:58:36.514 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7700&EmployeeId=1 - null 0
2024-06-10 12:58:36.530 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:58:36.532 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:58:36.534 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:36.535 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:58:36.537 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:36.538 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:58:36.541 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:58:36.544 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:58:36.548 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:58:36.551 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:58:36.553 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:58:36.555 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:58:36.568 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:58:36.571 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:58:36.572 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:58:36.575 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:36.576 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:36.580 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:58:36.583 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:58:36.584 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:58:36.586 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:58:36.588 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:36.590 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:36.592 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:58:36.593 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:58:36.598 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:58:36.599 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:58:36.601 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:58:36.603 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:58:36.604 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:58:36.606 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:58:36.608 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:58:36.610 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:58:36.614 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:36.616 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:36.617 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:58:36.619 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:58:36.724 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:58:36.733 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:58:36.734 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:58:36.736 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.738 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.739 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:58:36.741 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:58:36.743 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:58:36.745 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:58:36.755 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:58:36.759 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:36.765 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.767 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-06-10 12:58:36.769 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.771 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:58:36.773 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:36.776 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:36.782 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:36.784 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:58:36.785 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:58:36.787 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:58:36.789 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.791 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:58:36.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:58:36.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-10 12:58:36.800 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:58:36.817 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:58:36.820 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:58:36.822 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.823 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-06-10 12:58:36.826 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.830 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-06-10 12:58:36.833 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:58:36.835 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:58:36.837 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:58:36.841 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:58:36.843 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:58:36.848 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:58:36.851 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:58:36.854 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:58:36.857 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:58:36.866 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 311.526ms
2024-06-10 12:58:36.881 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:58:36.884 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 12:58:36.915 +03:00 [DBG] Connection id "0HN496F7UQJ6K" completed keep alive response.
2024-06-10 12:58:36.919 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:58:36.922 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:58:36.925 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 12:58:36.929 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7700&EmployeeId=1 - 500 null text/plain; charset=utf-8 415.1469ms
2024-06-10 12:58:39.001 +03:00 [DBG] Connection id "0HN496F7UQJ6K" received FIN.
2024-06-10 12:58:39.008 +03:00 [DBG] Connection id "0HN496F7UQJ6K" disconnecting.
2024-06-10 12:58:39.015 +03:00 [DBG] Connection id "0HN496F7UQJ6K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:58:39.032 +03:00 [DBG] Connection id "0HN496F7UQJ6K" stopped.
2024-06-10 12:58:59.256 +03:00 [DBG] Connection id "0HN496F7UQJ6L" accepted.
2024-06-10 12:58:59.258 +03:00 [DBG] Connection id "0HN496F7UQJ6L" started.
2024-06-10 12:58:59.258 +03:00 [DBG] Connection id "0HN496F7UQJ6M" accepted.
2024-06-10 12:58:59.261 +03:00 [DBG] Connection id "0HN496F7UQJ6M" started.
2024-06-10 12:58:59.267 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 12:58:59.281 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 12:58:59.282 +03:00 [DBG] Request did not match any endpoints
2024-06-10 12:58:59.292 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 12:58:59.294 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 12:58:59.296 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 12:58:59.298 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 12:58:59.300 +03:00 [DBG] Connection id "0HN496F7UQJ6L" completed keep alive response.
2024-06-10 12:58:59.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 34.5834ms
2024-06-10 12:58:59.358 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 12:58:59.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 12:58:59.384 +03:00 [DBG] Connection id "0HN496F7UQJ6L" completed keep alive response.
2024-06-10 12:58:59.390 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 32.06ms
2024-06-10 12:58:59.418 +03:00 [DBG] Connection id "0HN496F7UQJ6M" completed keep alive response.
2024-06-10 12:58:59.448 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.078ms
2024-06-10 12:58:59.535 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 12:58:59.538 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 12:58:59.558 +03:00 [DBG] Request did not match any endpoints
2024-06-10 12:58:59.630 +03:00 [DBG] Connection id "0HN496F7UQJ6M" completed keep alive response.
2024-06-10 12:58:59.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.2243ms
2024-06-10 12:59:09.040 +03:00 [DBG] Connection id "0HN496F7UQJ6L" received FIN.
2024-06-10 12:59:09.040 +03:00 [DBG] Connection id "0HN496F7UQJ6M" received FIN.
2024-06-10 12:59:09.042 +03:00 [DBG] Connection id "0HN496F7UQJ6L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:59:09.043 +03:00 [DBG] Connection id "0HN496F7UQJ6M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:59:09.051 +03:00 [DBG] Connection id "0HN496F7UQJ6L" disconnecting.
2024-06-10 12:59:09.058 +03:00 [DBG] Connection id "0HN496F7UQJ6M" disconnecting.
2024-06-10 12:59:09.059 +03:00 [DBG] Connection id "0HN496F7UQJ6L" stopped.
2024-06-10 12:59:09.061 +03:00 [DBG] Connection id "0HN496F7UQJ6M" stopped.
2024-06-10 12:59:13.261 +03:00 [DBG] Connection id "0HN496F7UQJ6N" accepted.
2024-06-10 12:59:13.263 +03:00 [DBG] Connection id "0HN496F7UQJ6N" started.
2024-06-10 12:59:13.264 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 12:59:13.268 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:59:13.270 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:59:13.272 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:59:13.273 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:59:13.274 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:59:13.316 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:59:13.320 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:59:13.322 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:59:13.324 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:59:13.330 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:59:13.332 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:59:13.334 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:59:13.337 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:59:13.339 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:59:13.340 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:59:13.345 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:59:13.346 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:59:13.348 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:59:13.350 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:59:13.351 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:59:13.353 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:59:13.355 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:59:13.357 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:59:13.361 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:59:13.363 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:59:13.364 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:59:13.366 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:59:13.368 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:59:13.370 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:59:13.371 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:59:13.373 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:59:13.377 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:59:13.379 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:59:13.382 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:59:13.384 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:59:13.386 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:59:13.387 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:59:13.399 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:59:13.404 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 12:59:13.417 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Employee>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
            SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
            FROM employees AS e
            WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass17_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )], 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Employee entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Employee instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Employee);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Employee)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                            {
                                return 
                                {
                                    Employee instance;
                                    instance = new Employee();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                    instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LastName>k__BackingField = dataReader.GetString(6);
                                    instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                    instance.<Title>k__BackingField = dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Employee)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: WebApplication1.Data.AdminContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-10 12:59:13.446 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:59:13.448 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:59:13.449 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.451 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.452 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:59:13.454 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:59:13.455 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:59:13.457 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:59:13.467 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:59:13.481 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:13.484 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.486 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 14ms reading results.
2024-06-10 12:59:13.488 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.490 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:59:13.495 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:13.497 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:13.499 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:13.502 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:59:13.503 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:59:13.504 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:59:13.506 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.508 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.513 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:59:13.515 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:59:13.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:59:13.518 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:59:13.524 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:59:13.531 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:59:13.533 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.535 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 12:59:13.537 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.538 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:59:13.540 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:13.546 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:59:13.548 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:59:13.552 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:59:13.554 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:59:13.556 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:59:13.560 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 12:59:13.563 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:59:13.566 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 12:59:13.570 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 236.2ms
2024-06-10 12:59:13.572 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:59:13.574 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 12:59:13.604 +03:00 [DBG] Connection id "0HN496F7UQJ6N" completed keep alive response.
2024-06-10 12:59:13.608 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:59:13.612 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:13.614 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:59:13.617 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 352.6535ms
2024-06-10 12:59:19.043 +03:00 [DBG] Connection id "0HN496F7UQJ6N" received FIN.
2024-06-10 12:59:19.047 +03:00 [DBG] Connection id "0HN496F7UQJ6N" disconnecting.
2024-06-10 12:59:19.049 +03:00 [DBG] Connection id "0HN496F7UQJ6N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:59:19.058 +03:00 [DBG] Connection id "0HN496F7UQJ6N" stopped.
2024-06-10 12:59:24.363 +03:00 [DBG] Connection id "0HN496F7UQJ6O" accepted.
2024-06-10 12:59:24.365 +03:00 [DBG] Connection id "0HN496F7UQJ6O" started.
2024-06-10 12:59:24.367 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 12:59:24.373 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 12:59:24.375 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 12:59:24.377 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:59:24.378 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:59:24.381 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:59:24.384 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 12:59:24.387 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:59:24.390 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:59:24.395 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:59:24.400 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:59:24.401 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:59:24.404 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:59:24.406 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 12:59:24.410 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:59:24.412 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 12:59:24.414 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:59:24.416 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:59:24.418 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 12:59:24.419 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 12:59:24.421 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:59:24.423 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 12:59:24.426 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:59:24.428 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:59:24.430 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 12:59:24.432 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 12:59:24.433 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 12:59:24.435 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 12:59:24.437 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:59:24.438 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 12:59:24.440 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 12:59:24.444 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 12:59:24.445 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:59:24.447 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 12:59:24.449 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:59:24.451 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:59:24.453 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 12:59:24.454 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 12:59:24.459 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:59:24.464 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:59:24.465 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:59:24.467 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.468 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:59:24.471 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:59:24.473 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 12:59:24.478 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:59:24.484 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 12:59:24.487 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:24.489 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.493 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 12:59:24.496 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.498 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:59:24.500 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:24.502 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:24.504 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:24.506 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 12:59:24.510 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 12:59:24.512 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 12:59:24.513 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.515 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.516 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:59:24.518 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:59:24.519 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 12:59:24.521 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:59:24.536 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 12:59:24.540 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 12:59:24.545 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.546 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 12:59:24.549 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.550 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:59:24.552 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:24.554 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 12:59:24.556 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:59:24.562 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 12:59:24.565 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 12:59:24.571 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 12:59:24.572 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 12:59:24.577 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 173.2995ms
2024-06-10 12:59:24.579 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 12:59:24.580 +03:00 [DBG] Connection id "0HN496F7UQJ6O" completed keep alive response.
2024-06-10 12:59:24.582 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:59:24.584 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:24.585 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:59:24.587 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 406 0 null 220.6209ms
2024-06-10 12:59:29.048 +03:00 [DBG] Connection id "0HN496F7UQJ6O" received FIN.
2024-06-10 12:59:29.051 +03:00 [DBG] Connection id "0HN496F7UQJ6O" disconnecting.
2024-06-10 12:59:29.066 +03:00 [DBG] Connection id "0HN496F7UQJ6O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:59:29.070 +03:00 [DBG] Connection id "0HN496F7UQJ6O" stopped.
2024-06-10 12:59:35.768 +03:00 [DBG] Connection id "0HN496F7UQJ6P" accepted.
2024-06-10 12:59:35.775 +03:00 [DBG] Connection id "0HN496F7UQJ6P" started.
2024-06-10 12:59:35.777 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Employee?pageNumber=1&pageSize=10 - null null
2024-06-10 12:59:35.782 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2024-06-10 12:59:35.784 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2024-06-10 12:59:35.786 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)'
2024-06-10 12:59:35.788 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:59:35.792 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)'
2024-06-10 12:59:35.810 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.Employee]]] GetEmployees(Int32, Int32) on controller WebApplication1.Controllers.EmployeeController (WebApplication1).
2024-06-10 12:59:35.814 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:59:35.816 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:59:35.818 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:59:35.821 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:59:35.826 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:59:35.829 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.EmployeeController (WebApplication1)
2024-06-10 12:59:35.832 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.EmployeeController (WebApplication1)
2024-06-10 12:59:35.834 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:59:35.835 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:59:35.838 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:59:35.839 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:59:35.844 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:59:35.846 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:59:35.847 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:59:35.849 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:59:35.851 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:59:35.853 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:59:35.855 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:59:35.860 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:59:35.867 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:59:35.879 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(x => x.IsActive == True)
    .Skip(__p_0)
    .Take(__p_1)'
2024-06-10 12:59:35.884 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 12:59:35.886 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 12:59:35.896 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE e.IsActive == CAST(1 AS bit)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-10 12:59:35.913 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:59:35.916 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 12:59:35.918 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:35.920 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:35.922 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:59:35.927 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-06-10 12:59:35.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-06-10 12:59:35.931 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:59:35.944 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:59:35.949 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:35.954 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:35.956 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:35.971 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:35.977 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:35.981 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:35.983 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:35.985 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 35ms reading results.
2024-06-10 12:59:35.989 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:35.994 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 12:59:36.034 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:59:36.038 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 12:59:36.043 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 12:59:36.044 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 12:59:36.046 +03:00 [INF] Executed action WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1) in 217.618ms
2024-06-10 12:59:36.048 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)'
2024-06-10 12:59:36.050 +03:00 [DBG] Connection id "0HN496F7UQJ6P" completed keep alive response.
2024-06-10 12:59:36.051 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:59:36.053 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:36.055 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:59:36.058 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Employee?pageNumber=1&pageSize=10 - 406 0 null 281.3797ms
2024-06-10 12:59:39.070 +03:00 [DBG] Connection id "0HN496F7UQJ6P" received FIN.
2024-06-10 12:59:39.078 +03:00 [DBG] Connection id "0HN496F7UQJ6P" disconnecting.
2024-06-10 12:59:39.082 +03:00 [DBG] Connection id "0HN496F7UQJ6P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:59:39.088 +03:00 [DBG] Connection id "0HN496F7UQJ6P" stopped.
2024-06-10 12:59:41.094 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" accepted.
2024-06-10 12:59:41.095 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" started.
2024-06-10 12:59:41.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Employee?pageNumber=1&pageSize=10 - null null
2024-06-10 12:59:41.099 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2024-06-10 12:59:41.101 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2024-06-10 12:59:41.103 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)'
2024-06-10 12:59:41.105 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 12:59:41.107 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)'
2024-06-10 12:59:41.109 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.Employee]]] GetEmployees(Int32, Int32) on controller WebApplication1.Controllers.EmployeeController (WebApplication1).
2024-06-10 12:59:41.112 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 12:59:41.113 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 12:59:41.115 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 12:59:41.118 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 12:59:41.120 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 12:59:41.126 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.EmployeeController (WebApplication1)
2024-06-10 12:59:41.129 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.EmployeeController (WebApplication1)
2024-06-10 12:59:41.132 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:59:41.134 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 12:59:41.136 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:59:41.137 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:59:41.139 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 12:59:41.143 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 12:59:41.145 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:59:41.147 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 12:59:41.148 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:59:41.150 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:59:41.151 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 12:59:41.153 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 12:59:41.156 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 12:59:41.161 +03:00 [DBG] Creating DbConnection.
2024-06-10 12:59:41.162 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 12:59:41.164 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:41.166 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:41.167 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 12:59:41.169 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 12:59:41.170 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 12:59:41.172 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:59:41.183 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 12:59:41.189 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:41.198 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:41.201 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:41.204 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:41.214 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:41.218 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 12:59:41.222 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:41.231 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 42ms reading results.
2024-06-10 12:59:41.234 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:41.235 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 12:59:41.241 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 12:59:41.248 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 12:59:41.252 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 12:59:41.256 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.EmployeeSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 12:59:41.274 +03:00 [INF] Executed action WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1) in 147.8699ms
2024-06-10 12:59:41.276 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.EmployeeController.GetEmployees (WebApplication1)'
2024-06-10 12:59:41.278 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" completed keep alive response.
2024-06-10 12:59:41.280 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 12:59:41.281 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 12:59:41.283 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 12:59:41.285 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Employee?pageNumber=1&pageSize=10 - 200 1037 text/json; charset=utf-8 188.6592ms
2024-06-10 12:59:49.088 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" received FIN.
2024-06-10 12:59:49.089 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 12:59:49.092 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" disconnecting.
2024-06-10 12:59:49.093 +03:00 [DBG] Connection id "0HN496F7UQJ6Q" stopped.
2024-06-10 13:00:01.498 +03:00 [DBG] Connection id "0HN496F7UQJ6R" accepted.
2024-06-10 13:00:01.562 +03:00 [DBG] Connection id "0HN496F7UQJ6R" started.
2024-06-10 13:00:01.566 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=2 - null 0
2024-06-10 13:00:01.568 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:00:01.570 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:00:01.573 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:00:01.575 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:00:01.576 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:00:01.577 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:00:01.580 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:00:01.582 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:00:01.584 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:00:01.587 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:00:01.634 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:00:01.636 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:01.640 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:01.642 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:00:01.644 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:00:01.646 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:00:01.648 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:00:01.649 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:00:01.651 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:00:01.653 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:00:01.656 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:00:01.659 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:00:01.660 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:00:01.662 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:00:01.664 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:00:01.665 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:00:01.667 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:00:01.669 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:00:01.673 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:00:01.675 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:00:01.677 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:00:01.679 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:00:01.681 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:00:01.691 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:00:01.697 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:00:01.702 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:00:01.709 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:00:01.725 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:00:01.728 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:00:01.730 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:00:01.732 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.734 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.736 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:01.740 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:00:01.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:00:01.744 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:00:01.758 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:00:01.762 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:01.764 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.767 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-06-10 13:00:01.771 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.779 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (7ms).
2024-06-10 13:00:01.782 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:01.785 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:01.787 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:01.792 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:00:01.794 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:00:01.796 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:00:01.799 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.801 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.803 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:01.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:00:01.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-10 13:00:01.813 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:00:01.820 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:00:01.826 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:00:01.829 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.830 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:00:01.833 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.836 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:00:01.840 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:01.843 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:00:01.845 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:00:01.849 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 13:00:01.852 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:00:01.861 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 13:00:01.863 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 13:00:01.866 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 229.7697ms
2024-06-10 13:00:01.868 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:00:01.870 +03:00 [DBG] Connection id "0HN496F7UQJ6R" completed keep alive response.
2024-06-10 13:00:01.875 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:00:01.878 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:01.880 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:00:01.883 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=2 - 406 0 null 317.7609ms
2024-06-10 13:00:02.233 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=2 - null 0
2024-06-10 13:00:02.250 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:00:02.254 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:00:02.262 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:00:02.265 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:00:02.267 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:00:02.268 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:00:02.275 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:00:02.277 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:00:02.279 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:00:02.284 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:00:02.286 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:00:02.291 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:02.294 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:02.296 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:00:02.298 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:00:02.301 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:00:02.303 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:00:02.307 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:00:02.308 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:00:02.310 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:00:02.312 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:00:02.315 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:00:02.316 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:00:02.318 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:00:02.320 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:00:02.324 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:00:02.326 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:00:02.328 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:00:02.330 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:00:02.332 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:00:02.334 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:00:02.336 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:00:02.339 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:00:02.342 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:00:02.344 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:00:02.345 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:00:02.348 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:00:02.350 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:00:02.356 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:00:02.357 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:00:02.359 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.363 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.365 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:02.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:00:02.373 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-06-10 13:00:02.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:00:02.385 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:00:02.420 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:02.534 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.541 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 121ms reading results.
2024-06-10 13:00:02.544 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.546 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:00:02.548 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:02.550 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:02.552 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:02.554 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:00:02.557 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:00:02.559 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:00:02.562 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.563 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:02.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:00:02.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:00:02.570 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:00:02.579 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:00:02.584 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:00:02.586 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.590 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:00:02.592 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.595 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:00:02.597 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:02.599 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:00:02.601 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:00:02.606 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 13:00:02.608 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:00:02.616 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 13:00:02.618 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 13:00:02.620 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 328.3412ms
2024-06-10 13:00:02.623 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:00:02.624 +03:00 [DBG] Connection id "0HN496F7UQJ6R" completed keep alive response.
2024-06-10 13:00:02.626 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:00:02.627 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:02.629 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:00:02.631 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=2 - 406 0 null 398.1526ms
2024-06-10 13:00:09.116 +03:00 [DBG] Connection id "0HN496F7UQJ6R" received FIN.
2024-06-10 13:00:09.123 +03:00 [DBG] Connection id "0HN496F7UQJ6R" disconnecting.
2024-06-10 13:00:09.124 +03:00 [DBG] Connection id "0HN496F7UQJ6R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:00:09.131 +03:00 [DBG] Connection id "0HN496F7UQJ6R" stopped.
2024-06-10 13:00:19.218 +03:00 [DBG] Connection id "0HN496F7UQJ6S" accepted.
2024-06-10 13:00:19.224 +03:00 [DBG] Connection id "0HN496F7UQJ6S" started.
2024-06-10 13:00:19.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - null null
2024-06-10 13:00:19.248 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:00:19.249 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:00:19.252 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:19.255 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:00:19.257 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:19.265 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:00:19.268 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:00:19.272 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:00:19.274 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:00:19.277 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:00:19.279 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:00:19.281 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:19.283 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:19.285 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:00:19.288 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 13:00:19.291 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:19.292 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:19.294 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:00:19.296 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:19.297 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:00:19.299 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 13:00:19.301 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:19.303 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:19.305 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:00:19.307 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:19.313 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:00:19.317 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(x => x.IsActive == True)
    .Skip(__p_0)
    .Take(__p_1)'
2024-06-10 13:00:19.322 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 13:00:19.324 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 13:00:19.330 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Booking>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckOutAt (DateTime) Required, 1], [Property: Booking.CheckinAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.IsActive (bool) Required, 4], [Property: Booking.Price (double) Required, 5] }
        SELECT b.Id, b.CheckOutAt, b.CheckinAt, b.EmployeeId, b.IsActive, b.Price
        FROM bookings AS b
        WHERE b.IsActive == CAST(1 AS bit)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Booking entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Booking instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Booking);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Booking.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Booking)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]: 
                        {
                            return 
                            {
                                Booking instance;
                                instance = new Booking();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CheckOutAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CheckinAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<EmployeeId>k__BackingField = dataReader.GetInt32(3);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Booking)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-10 13:00:19.344 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:00:19.345 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:00:19.346 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:19.348 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:19.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:19.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:00:19.354 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:00:19.356 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:00:19.363 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:00:19.367 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.369 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.373 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.375 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.378 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.380 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.382 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.384 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.386 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.391 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:19.395 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:19.397 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 31ms reading results.
2024-06-10 13:00:19.400 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:19.403 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:00:19.413 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:00:19.417 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:00:19.419 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:00:19.423 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:00:19.425 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 143.9555ms
2024-06-10 13:00:19.427 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:19.428 +03:00 [DBG] Connection id "0HN496F7UQJ6S" completed keep alive response.
2024-06-10 13:00:19.430 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:00:19.433 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:19.435 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:00:19.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - 406 0 null 205.381ms
2024-06-10 13:00:24.313 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - null null
2024-06-10 13:00:24.316 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:00:24.318 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:00:24.321 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:24.322 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:00:24.324 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:24.326 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:00:24.330 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:00:24.332 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:00:24.334 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:00:24.378 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:00:24.380 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:00:24.384 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:24.396 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:24.398 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:00:24.400 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 13:00:24.402 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:24.407 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:24.408 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:00:24.410 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:24.412 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:00:24.414 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 13:00:24.416 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:24.417 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:24.419 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:00:24.424 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:24.426 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:00:24.429 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:00:24.431 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:00:24.432 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:24.434 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:24.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:24.440 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:00:24.442 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-10 13:00:24.443 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:00:24.450 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:00:24.458 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.460 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.462 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.464 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.466 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.468 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.473 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.475 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.477 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.479 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:24.481 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:24.483 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 25ms reading results.
2024-06-10 13:00:24.486 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:24.491 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 13:00:24.495 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:00:24.500 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:00:24.502 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:00:24.507 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:00:24.514 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 129.723ms
2024-06-10 13:00:24.516 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:24.519 +03:00 [DBG] Connection id "0HN496F7UQJ6S" completed keep alive response.
2024-06-10 13:00:24.522 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:00:24.523 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:24.525 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:00:24.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=1&pageSize=10 - 200 1245 text/json; charset=utf-8 215.1905ms
2024-06-10 13:00:29.142 +03:00 [DBG] Connection id "0HN496F7UQJ6S" received FIN.
2024-06-10 13:00:29.144 +03:00 [DBG] Connection id "0HN496F7UQJ6S" disconnecting.
2024-06-10 13:00:29.146 +03:00 [DBG] Connection id "0HN496F7UQJ6S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:00:29.148 +03:00 [DBG] Connection id "0HN496F7UQJ6S" stopped.
2024-06-10 13:00:33.223 +03:00 [DBG] Connection id "0HN496F7UQJ6T" accepted.
2024-06-10 13:00:33.225 +03:00 [DBG] Connection id "0HN496F7UQJ6T" started.
2024-06-10 13:00:33.227 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - null null
2024-06-10 13:00:33.231 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:00:33.233 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:00:33.235 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:33.237 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:00:33.238 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:33.242 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:00:33.246 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:00:33.250 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:00:33.251 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:00:33.258 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:00:33.260 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:00:33.262 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:33.265 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:00:33.267 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:00:33.268 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 13:00:33.275 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:33.277 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:33.279 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:00:33.280 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:00:33.282 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:00:33.284 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 13:00:33.289 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:33.291 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:33.292 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:00:33.294 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:00:33.297 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:00:33.300 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(x => x.IsActive == True)
    .Skip(__p_0)
    .Take(__p_0)'
2024-06-10 13:00:33.308 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 13:00:33.310 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 13:00:33.316 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Booking>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckOutAt (DateTime) Required, 1], [Property: Booking.CheckinAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.IsActive (bool) Required, 4], [Property: Booking.Price (double) Required, 5] }
        SELECT b.Id, b.CheckOutAt, b.CheckinAt, b.EmployeeId, b.IsActive, b.Price
        FROM bookings AS b
        WHERE b.IsActive == CAST(1 AS bit)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Booking entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Booking instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Booking);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Booking.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Booking)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]: 
                        {
                            return 
                            {
                                Booking instance;
                                instance = new Booking();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CheckOutAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CheckinAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<EmployeeId>k__BackingField = dataReader.GetInt32(3);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Booking)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-10 13:00:33.333 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:00:33.334 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:00:33.338 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:33.340 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:33.342 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:00:33.343 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:00:33.345 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:00:33.346 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 13:00:33.353 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2024-06-10 13:00:33.358 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.360 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.362 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.364 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.366 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.368 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.372 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.374 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:00:33.376 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:33.378 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-06-10 13:00:33.380 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:33.381 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:00:33.383 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:00:33.390 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:00:33.391 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:00:33.393 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:00:33.396 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 133.0577ms
2024-06-10 13:00:33.398 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:00:33.401 +03:00 [DBG] Connection id "0HN496F7UQJ6T" completed keep alive response.
2024-06-10 13:00:33.405 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:00:33.407 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:00:33.408 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:00:33.411 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=2&pageSize=10 - 200 993 text/json; charset=utf-8 183.9359ms
2024-06-10 13:00:39.162 +03:00 [DBG] Connection id "0HN496F7UQJ6T" received FIN.
2024-06-10 13:00:39.164 +03:00 [DBG] Connection id "0HN496F7UQJ6T" disconnecting.
2024-06-10 13:00:39.166 +03:00 [DBG] Connection id "0HN496F7UQJ6T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:00:39.178 +03:00 [DBG] Connection id "0HN496F7UQJ6T" stopped.
2024-06-10 13:01:55.675 +03:00 [DBG] Connection id "0HN496F7UQJ6U" accepted.
2024-06-10 13:01:55.678 +03:00 [DBG] Connection id "0HN496F7UQJ6U" started.
2024-06-10 13:01:55.678 +03:00 [DBG] Connection id "0HN496F7UQJ6V" accepted.
2024-06-10 13:01:55.683 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:01:55.685 +03:00 [DBG] Connection id "0HN496F7UQJ6V" started.
2024-06-10 13:01:55.707 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:01:55.710 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:01:55.721 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:01:55.722 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:01:55.724 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:01:55.726 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:01:55.728 +03:00 [DBG] Connection id "0HN496F7UQJ6U" completed keep alive response.
2024-06-10 13:01:55.735 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 51.6313ms
2024-06-10 13:01:55.826 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:01:55.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:01:55.851 +03:00 [DBG] Connection id "0HN496F7UQJ6U" completed keep alive response.
2024-06-10 13:01:55.868 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 41.963ms
2024-06-10 13:01:55.875 +03:00 [DBG] Connection id "0HN496F7UQJ6V" completed keep alive response.
2024-06-10 13:01:55.889 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.2722ms
2024-06-10 13:01:56.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:01:56.269 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:01:56.273 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:01:56.312 +03:00 [DBG] Connection id "0HN496F7UQJ6V" completed keep alive response.
2024-06-10 13:01:56.319 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.3896ms
2024-06-10 13:01:59.312 +03:00 [DBG] Connection id "0HN496F7UQJ6U" received FIN.
2024-06-10 13:01:59.312 +03:00 [DBG] Connection id "0HN496F7UQJ6V" received FIN.
2024-06-10 13:01:59.319 +03:00 [DBG] Connection id "0HN496F7UQJ6U" disconnecting.
2024-06-10 13:01:59.320 +03:00 [DBG] Connection id "0HN496F7UQJ6V" disconnecting.
2024-06-10 13:01:59.321 +03:00 [DBG] Connection id "0HN496F7UQJ6U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:01:59.323 +03:00 [DBG] Connection id "0HN496F7UQJ6V" stopped.
2024-06-10 13:01:59.337 +03:00 [DBG] Connection id "0HN496F7UQJ6V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:01:59.340 +03:00 [DBG] Connection id "0HN496F7UQJ6U" stopped.
2024-06-10 13:02:20.850 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:02:21.072 +03:00 [DBG] Hosting starting
2024-06-10 13:02:21.318 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:02:21.319 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:02:21.321 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:02:21.322 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:02:21.324 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:02:21.326 +03:00 [INF] Hosting environment: Development
2024-06-10 13:02:21.327 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:02:21.328 +03:00 [DBG] Hosting started
2024-06-10 13:02:21.547 +03:00 [DBG] Connection id "0HN496HLOPMRB" received FIN.
2024-06-10 13:02:21.552 +03:00 [DBG] Connection id "0HN496HLOPMRC" received FIN.
2024-06-10 13:02:21.573 +03:00 [DBG] Connection id "0HN496HLOPMRB" accepted.
2024-06-10 13:02:21.578 +03:00 [DBG] Connection id "0HN496HLOPMRB" started.
2024-06-10 13:02:21.576 +03:00 [DBG] Connection id "0HN496HLOPMRC" accepted.
2024-06-10 13:02:21.582 +03:00 [DBG] Connection id "0HN496HLOPMRC" started.
2024-06-10 13:02:21.589 +03:00 [DBG] Connection id "0HN496HLOPMRC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:02:21.588 +03:00 [DBG] Connection id "0HN496HLOPMRB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:02:21.595 +03:00 [DBG] Connection id "0HN496HLOPMRC" disconnecting.
2024-06-10 13:02:21.596 +03:00 [DBG] Connection id "0HN496HLOPMRB" disconnecting.
2024-06-10 13:02:21.607 +03:00 [DBG] Connection id "0HN496HLOPMRC" stopped.
2024-06-10 13:02:21.609 +03:00 [DBG] Connection id "0HN496HLOPMRB" stopped.
2024-06-10 13:02:22.057 +03:00 [DBG] Connection id "0HN496HLOPMRD" accepted.
2024-06-10 13:02:22.428 +03:00 [DBG] Connection id "0HN496HLOPMRD" started.
2024-06-10 13:02:22.429 +03:00 [DBG] Connection id "0HN496HLOPMRE" accepted.
2024-06-10 13:02:22.431 +03:00 [DBG] Connection id "0HN496HLOPMRE" started.
2024-06-10 13:02:22.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:02:22.676 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:02:22.731 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:02:22.733 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:02:22.966 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:02:22.970 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:02:22.990 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:02:22.993 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:02:22.997 +03:00 [DBG] Connection id "0HN496HLOPMRE" completed keep alive response.
2024-06-10 13:02:23.003 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 538.7586ms
2024-06-10 13:02:23.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:02:23.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:02:23.116 +03:00 [DBG] Connection id "0HN496HLOPMRE" completed keep alive response.
2024-06-10 13:02:23.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 43.1851ms
2024-06-10 13:02:23.278 +03:00 [DBG] Connection id "0HN496HLOPMRD" completed keep alive response.
2024-06-10 13:02:23.307 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 217.3161ms
2024-06-10 13:02:23.409 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:02:23.675 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:02:23.691 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:02:24.122 +03:00 [DBG] Connection id "0HN496HLOPMRD" completed keep alive response.
2024-06-10 13:02:24.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 717.1782ms
2024-06-10 13:02:30.337 +03:00 [DBG] Connection id "0HN496HLOPMRE" received FIN.
2024-06-10 13:02:30.338 +03:00 [DBG] Connection id "0HN496HLOPMRD" received FIN.
2024-06-10 13:02:30.341 +03:00 [DBG] Connection id "0HN496HLOPMRE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:02:30.341 +03:00 [DBG] Connection id "0HN496HLOPMRD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:02:30.344 +03:00 [DBG] Connection id "0HN496HLOPMRE" disconnecting.
2024-06-10 13:02:30.346 +03:00 [DBG] Connection id "0HN496HLOPMRD" disconnecting.
2024-06-10 13:02:30.349 +03:00 [DBG] Connection id "0HN496HLOPMRD" stopped.
2024-06-10 13:02:30.349 +03:00 [DBG] Connection id "0HN496HLOPMRE" stopped.
2024-06-10 13:02:45.624 +03:00 [DBG] Connection id "0HN496HLOPMRF" accepted.
2024-06-10 13:02:45.626 +03:00 [DBG] Connection id "0HN496HLOPMRF" started.
2024-06-10 13:02:45.650 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:02:45.672 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:02:45.697 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:02:45.700 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:02:45.706 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:02:45.709 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:02:45.719 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:02:45.786 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:02:45.792 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:02:45.798 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:02:45.800 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:02:45.803 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:02:45.806 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:02:45.812 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:02:46.050 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:02:46.299 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:02:46.308 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:02:46.314 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:02:46.320 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:02:46.322 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:02:46.324 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:02:46.328 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:02:46.331 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:02:46.333 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:02:46.336 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:02:46.337 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:02:46.339 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:02:46.341 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:02:46.345 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:02:46.347 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:02:46.350 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:02:46.351 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:02:46.353 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:02:46.355 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:02:46.356 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:02:46.359 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:02:46.362 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:02:46.364 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:02:46.365 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:02:46.367 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:02:47.833 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:02:47.955 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:02:48.385 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Employee>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
            SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
            FROM employees AS e
            WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass17_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )], 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Employee entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Employee instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Employee);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Employee)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                            {
                                return 
                                {
                                    Employee instance;
                                    instance = new Employee();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                    instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LastName>k__BackingField = dataReader.GetString(6);
                                    instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                    instance.<Title>k__BackingField = dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Employee)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: WebApplication1.Data.AdminContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-10 13:02:48.480 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:02:48.525 +03:00 [DBG] Created DbConnection. (45ms).
2024-06-10 13:02:48.533 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.035 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.043 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:02:49.054 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-06-10 13:02:49.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-06-10 13:02:49.084 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:02:49.195 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:02:49.268 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:02:49.329 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.344 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 135ms reading results.
2024-06-10 13:02:49.352 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.366 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (13ms).
2024-06-10 13:02:49.421 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:02:49.467 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:02:49.487 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:02:49.495 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:02:49.500 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:02:49.536 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:02:49.654 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.657 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:02:49.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:02:49.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:02:49.670 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:02:49.701 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:02:49.720 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:02:49.730 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.732 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 27ms reading results.
2024-06-10 13:02:49.736 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:49.738 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:02:49.760 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:02:49.768 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:02:49.780 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:02:49.787 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:02:49.790 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:02:49.794 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:02:49.826 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:02:49.838 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:02:49.843 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:02:50.035 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 4223.7806ms
2024-06-10 13:02:50.038 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:02:50.043 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:02:50.104 +03:00 [DBG] Connection id "0HN496HLOPMRF" completed keep alive response.
2024-06-10 13:02:50.110 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:02:50.118 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:02:50.123 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-06-10 13:02:50.136 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 500 null text/plain; charset=utf-8 4485.8482ms
2024-06-10 13:02:51.996 +03:00 [DBG] Connection id "0HN496HLOPMRF" received FIN.
2024-06-10 13:02:51.998 +03:00 [DBG] Connection id "0HN496HLOPMRF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:02:52.001 +03:00 [DBG] Connection id "0HN496HLOPMRF" disconnecting.
2024-06-10 13:02:52.003 +03:00 [DBG] Connection id "0HN496HLOPMRF" stopped.
2024-06-10 13:03:07.371 +03:00 [DBG] Connection id "0HN496HLOPMRG" accepted.
2024-06-10 13:03:07.374 +03:00 [DBG] Connection id "0HN496HLOPMRG" started.
2024-06-10 13:03:07.376 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:03:07.382 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:03:07.384 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:03:07.386 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:03:07.422 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:03:07.424 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:03:07.426 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:03:07.435 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:03:07.438 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:03:07.440 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:03:07.443 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:03:07.445 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:03:07.448 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:03:07.453 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:03:07.456 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:03:07.458 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:03:07.460 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:03:07.462 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:03:07.464 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:03:07.466 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:03:07.468 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:03:07.470 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:03:07.472 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:03:07.474 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:03:07.476 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:03:07.478 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:03:07.480 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:03:07.482 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:03:07.484 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:03:07.485 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:03:07.487 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:03:07.488 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:03:07.491 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:03:07.493 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:03:07.496 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:03:07.498 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:03:07.499 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:03:07.501 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:03:07.536 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:03:07.546 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:03:07.548 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 13:03:07.549 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:07.551 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:07.552 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:03:07.554 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:03:07.555 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:03:07.558 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:03:07.571 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:03:07.575 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:03:07.578 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:07.580 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-06-10 13:03:07.582 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:07.584 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:03:40.977 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:03:40.979 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:03:40.981 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:03:42.772 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:03:42.782 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:03:42.878 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:03:42.882 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:42.884 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:42.886 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:03:42.887 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:03:42.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:03:42.892 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:03:42.943 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:03:42.947 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:03:42.949 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:42.951 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:03:42.954 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:42.956 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:03:42.958 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:03:42.961 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:03:48.068 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:03:48.074 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:03:48.076 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:03:48.078 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:03:48.144 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:03:48.148 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:03:48.151 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:03:48.172 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 40723.5419ms
2024-06-10 13:03:48.175 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:03:48.183 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:03:48.226 +03:00 [DBG] Connection id "0HN496HLOPMRG" completed keep alive response.
2024-06-10 13:03:48.227 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:03:48.230 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:03:48.232 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:03:48.235 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 500 null text/plain; charset=utf-8 40858.8895ms
2024-06-10 13:03:52.090 +03:00 [DBG] Connection id "0HN496HLOPMRG" received FIN.
2024-06-10 13:03:52.094 +03:00 [DBG] Connection id "0HN496HLOPMRG" disconnecting.
2024-06-10 13:03:52.096 +03:00 [DBG] Connection id "0HN496HLOPMRG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:03:52.105 +03:00 [DBG] Connection id "0HN496HLOPMRG" stopped.
2024-06-10 13:04:35.844 +03:00 [DBG] Connection id "0HN496HLOPMRH" accepted.
2024-06-10 13:04:35.866 +03:00 [DBG] Connection id "0HN496HLOPMRH" started.
2024-06-10 13:04:35.871 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=177 - null 0
2024-06-10 13:04:35.875 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:04:35.876 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:04:35.879 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:04:35.881 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:04:35.883 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:04:35.891 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:04:35.896 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:04:35.899 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:04:35.903 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:04:35.909 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:04:35.911 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:04:35.914 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:04:35.928 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:04:35.931 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:04:35.936 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:04:35.940 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:04:35.943 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:04:35.945 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:04:35.948 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:04:35.953 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:04:35.955 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:04:35.959 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:04:35.961 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:04:35.964 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:04:35.966 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:04:35.972 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:04:35.975 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:04:35.977 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:04:35.978 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:04:35.980 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:04:35.982 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:04:35.984 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:04:35.987 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:04:35.989 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:04:35.990 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:04:35.992 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:04:35.994 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:04:36.080 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:04:36.085 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:04:36.087 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 13:04:36.088 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:04:36.090 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:04:36.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:04:36.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:04:36.095 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:04:36.096 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:04:36.106 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:04:36.111 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:04:36.113 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-06-10 13:04:36.115 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:04:36.118 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:04:36.121 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:04:36.125 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:04:36.127 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:04:36.129 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:04:36.131 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:04:36.134 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:04:36.137 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:04:36.143 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 228.6704ms
2024-06-10 13:04:36.146 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:04:36.147 +03:00 [DBG] Connection id "0HN496HLOPMRH" completed keep alive response.
2024-06-10 13:04:36.149 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:04:36.150 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:04:36.154 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 13:04:36.156 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=177 - 201 174 text/json; charset=utf-8 284.2972ms
2024-06-10 13:04:37.142 +03:00 [DBG] Connection id "0HN496HLOPMRH" received FIN.
2024-06-10 13:04:37.144 +03:00 [DBG] Connection id "0HN496HLOPMRH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:04:37.146 +03:00 [DBG] Connection id "0HN496HLOPMRH" disconnecting.
2024-06-10 13:04:37.152 +03:00 [DBG] Connection id "0HN496HLOPMRH" stopped.
2024-06-10 13:05:09.000 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:05:09.216 +03:00 [DBG] Hosting starting
2024-06-10 13:05:09.521 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:05:09.523 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:05:09.524 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:05:09.525 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:05:09.527 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:05:09.529 +03:00 [INF] Hosting environment: Development
2024-06-10 13:05:09.531 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:05:09.532 +03:00 [DBG] Hosting started
2024-06-10 13:05:09.602 +03:00 [DBG] Connection id "0HN496J7RG0HL" accepted.
2024-06-10 13:05:09.602 +03:00 [DBG] Connection id "0HN496J7RG0HM" accepted.
2024-06-10 13:05:09.605 +03:00 [DBG] Connection id "0HN496J7RG0HL" started.
2024-06-10 13:05:09.606 +03:00 [DBG] Connection id "0HN496J7RG0HM" started.
2024-06-10 13:05:09.629 +03:00 [DBG] Connection id "0HN496J7RG0HM" received FIN.
2024-06-10 13:05:09.630 +03:00 [DBG] Connection id "0HN496J7RG0HL" received FIN.
2024-06-10 13:05:09.721 +03:00 [DBG] Connection id "0HN496J7RG0HM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:09.727 +03:00 [DBG] Connection id "0HN496J7RG0HL" disconnecting.
2024-06-10 13:05:09.730 +03:00 [DBG] Connection id "0HN496J7RG0HM" disconnecting.
2024-06-10 13:05:09.736 +03:00 [DBG] Connection id "0HN496J7RG0HM" stopped.
2024-06-10 13:05:09.736 +03:00 [DBG] Connection id "0HN496J7RG0HL" stopped.
2024-06-10 13:05:09.793 +03:00 [DBG] Connection id "0HN496J7RG0HL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:10.091 +03:00 [DBG] Connection id "0HN496J7RG0HN" accepted.
2024-06-10 13:05:10.862 +03:00 [DBG] Connection id "0HN496J7RG0HO" accepted.
2024-06-10 13:05:10.864 +03:00 [DBG] Connection id "0HN496J7RG0HN" started.
2024-06-10 13:05:10.942 +03:00 [DBG] Connection id "0HN496J7RG0HO" started.
2024-06-10 13:05:10.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:05:11.244 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:05:11.315 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:05:11.359 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:05:11.607 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:05:11.625 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:05:11.646 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:05:11.717 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:05:11.829 +03:00 [DBG] Connection id "0HN496J7RG0HP" accepted.
2024-06-10 13:05:11.927 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:05:11.933 +03:00 [DBG] Connection id "0HN496J7RG0HP" started.
2024-06-10 13:05:11.935 +03:00 [DBG] Connection id "0HN496J7RG0HO" completed keep alive response.
2024-06-10 13:05:11.936 +03:00 [DBG] Connection id "0HN496J7RG0HN" completed keep alive response.
2024-06-10 13:05:11.936 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:05:11.941 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 223.1109ms
2024-06-10 13:05:11.941 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 963.813ms
2024-06-10 13:05:12.052 +03:00 [DBG] Connection id "0HN496J7RG0HP" completed keep alive response.
2024-06-10 13:05:12.058 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.7669ms
2024-06-10 13:05:12.244 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:05:12.713 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:05:12.717 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:05:13.180 +03:00 [DBG] Connection id "0HN496J7RG0HP" completed keep alive response.
2024-06-10 13:05:13.227 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 983.1181ms
2024-06-10 13:05:19.569 +03:00 [DBG] Connection id "0HN496J7RG0HO" received FIN.
2024-06-10 13:05:19.591 +03:00 [DBG] Connection id "0HN496J7RG0HN" received FIN.
2024-06-10 13:05:19.608 +03:00 [DBG] Connection id "0HN496J7RG0HP" received FIN.
2024-06-10 13:05:19.721 +03:00 [DBG] Connection id "0HN496J7RG0HO" disconnecting.
2024-06-10 13:05:19.722 +03:00 [DBG] Connection id "0HN496J7RG0HN" disconnecting.
2024-06-10 13:05:19.725 +03:00 [DBG] Connection id "0HN496J7RG0HO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:19.727 +03:00 [DBG] Connection id "0HN496J7RG0HN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:19.729 +03:00 [DBG] Connection id "0HN496J7RG0HP" disconnecting.
2024-06-10 13:05:19.735 +03:00 [DBG] Connection id "0HN496J7RG0HP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:19.736 +03:00 [DBG] Connection id "0HN496J7RG0HO" stopped.
2024-06-10 13:05:19.737 +03:00 [DBG] Connection id "0HN496J7RG0HN" stopped.
2024-06-10 13:05:19.740 +03:00 [DBG] Connection id "0HN496J7RG0HP" stopped.
2024-06-10 13:05:41.903 +03:00 [DBG] Connection id "0HN496J7RG0HQ" accepted.
2024-06-10 13:05:41.910 +03:00 [DBG] Connection id "0HN496J7RG0HQ" started.
2024-06-10 13:05:41.960 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=78997777777&EmployeeId=1 - null 0
2024-06-10 13:05:41.975 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:05:41.984 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:05:41.987 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:42.000 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:05:42.003 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:05:42.006 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:42.055 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:05:42.060 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:05:42.065 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:05:42.067 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:05:42.070 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:05:42.072 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:05:42.075 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:05:42.244 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:05:42.424 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:05:42.437 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:05:42.441 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:05:42.447 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:42.449 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:42.450 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:05:42.455 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:42.458 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:05:42.460 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:05:42.464 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:42.466 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:42.467 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:05:42.470 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:42.471 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:05:42.473 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:05:42.475 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:05:42.477 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:05:42.480 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:05:42.482 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:05:42.483 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:05:42.485 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:05:42.488 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:42.490 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:42.491 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:05:42.493 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:43.551 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:05:43.623 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:05:43.926 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Employee>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
            SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
            FROM employees AS e
            WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            <>c__DisplayClass17_0.queryExpression, 
            RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
        )], 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Employee entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Employee instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Employee);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Employee)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                            {
                                return 
                                {
                                    Employee instance;
                                    instance = new Employee();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                    instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                    instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<LastName>k__BackingField = dataReader.GetString(6);
                                    instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                    instance.<Title>k__BackingField = dataReader.GetString(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Employee)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: WebApplication1.Data.AdminContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-10 13:05:43.992 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:05:44.023 +03:00 [DBG] Created DbConnection. (29ms).
2024-06-10 13:05:44.031 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:44.437 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:44.444 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:05:44.458 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-06-10 13:05:44.469 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-06-10 13:05:44.484 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:05:44.568 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:05:44.616 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:44.659 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:44.673 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 94ms reading results.
2024-06-10 13:05:44.681 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:44.691 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (10ms).
2024-06-10 13:05:44.733 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:44.799 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:44.823 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:44.832 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:05:44.839 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:05:44.872 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:05:45.001 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:45.004 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:45.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:05:45.011 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:05:45.015 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:05:45.017 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:05:45.044 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:05:45.067 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:05:45.078 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:45.080 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 27ms reading results.
2024-06-10 13:05:45.084 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:45.086 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:05:45.101 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:45.106 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:05:45.116 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:05:45.122 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:05:45.126 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:05:45.129 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:05:45.152 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:05:45.162 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:05:45.168 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:05:45.325 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 3247.6202ms
2024-06-10 13:05:45.328 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:45.333 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:05:45.390 +03:00 [DBG] Connection id "0HN496J7RG0HQ" completed keep alive response.
2024-06-10 13:05:45.398 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:05:45.411 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:45.418 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-06-10 13:05:45.423 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=78997777777&EmployeeId=1 - 500 null text/plain; charset=utf-8 3463.6704ms
2024-06-10 13:05:49.563 +03:00 [DBG] Connection id "0HN496J7RG0HQ" received FIN.
2024-06-10 13:05:49.569 +03:00 [DBG] Connection id "0HN496J7RG0HQ" disconnecting.
2024-06-10 13:05:49.571 +03:00 [DBG] Connection id "0HN496J7RG0HQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:49.576 +03:00 [DBG] Connection id "0HN496J7RG0HQ" stopped.
2024-06-10 13:05:51.254 +03:00 [DBG] Connection id "0HN496J7RG0HR" accepted.
2024-06-10 13:05:51.265 +03:00 [DBG] Connection id "0HN496J7RG0HR" started.
2024-06-10 13:05:51.268 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=78997777777&EmployeeId=1 - null 0
2024-06-10 13:05:51.278 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:05:51.280 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:05:51.284 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:51.286 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:05:51.287 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:51.289 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:05:51.292 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:05:51.294 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:05:51.298 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:05:51.301 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:05:51.303 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:05:51.305 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:05:51.317 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:05:51.323 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:05:51.324 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:05:51.326 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:51.329 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:51.332 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:05:51.334 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:51.336 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:05:51.338 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:05:51.340 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:51.341 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:51.343 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:05:51.347 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:51.349 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:05:51.351 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:05:51.353 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:05:51.355 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:05:51.356 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:05:51.358 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:05:51.360 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:05:51.363 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:05:51.365 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:51.367 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:51.369 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:05:51.370 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:51.403 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:05:51.411 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:05:51.417 +03:00 [DBG] Created DbConnection. (5ms).
2024-06-10 13:05:51.418 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.420 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:05:51.423 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:05:51.425 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:05:51.427 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:05:51.437 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:05:51.441 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:51.444 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.450 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-06-10 13:05:51.452 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.454 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:05:51.458 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:51.463 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:51.469 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:51.473 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:05:51.476 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:05:51.484 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:05:51.488 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.490 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:05:51.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:05:51.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-06-10 13:05:51.501 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:05:51.507 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:05:51.511 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:05:51.515 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.517 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:05:51.519 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.521 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:05:51.523 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:05:51.526 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:05:51.530 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:05:51.534 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 13:05:51.543 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:05:51.554 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 13:05:51.556 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 13:05:51.558 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 252.8251ms
2024-06-10 13:05:51.560 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:51.562 +03:00 [DBG] Connection id "0HN496J7RG0HR" completed keep alive response.
2024-06-10 13:05:51.565 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:05:51.567 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:05:51.569 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:05:51.571 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=78997777777&EmployeeId=1 - 406 0 null 303.1793ms
2024-06-10 13:05:59.563 +03:00 [DBG] Connection id "0HN496J7RG0HR" received FIN.
2024-06-10 13:05:59.568 +03:00 [DBG] Connection id "0HN496J7RG0HR" disconnecting.
2024-06-10 13:05:59.569 +03:00 [DBG] Connection id "0HN496J7RG0HR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:05:59.581 +03:00 [DBG] Connection id "0HN496J7RG0HR" stopped.
2024-06-10 13:05:59.794 +03:00 [DBG] Connection id "0HN496J7RG0HS" accepted.
2024-06-10 13:05:59.796 +03:00 [DBG] Connection id "0HN496J7RG0HS" started.
2024-06-10 13:05:59.798 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=78997777777&EmployeeId=1 - null 0
2024-06-10 13:05:59.802 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:05:59.803 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:05:59.806 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:59.807 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:05:59.808 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:05:59.810 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:05:59.849 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:05:59.850 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:05:59.852 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:05:59.863 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:05:59.865 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:05:59.868 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:05:59.883 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:05:59.885 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:05:59.887 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:05:59.889 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:59.890 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:59.891 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:05:59.893 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:05:59.896 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:05:59.898 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:05:59.901 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:59.902 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:59.904 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:05:59.906 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:05:59.907 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:05:59.909 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:05:59.911 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:05:59.918 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:05:59.919 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:05:59.920 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:05:59.922 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:05:59.923 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:05:59.925 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:59.926 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:05:59.930 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:05:59.931 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:00.058 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:06:00.069 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:06:00.072 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:06:00.074 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.075 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.077 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:00.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:06:00.084 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-06-10 13:06:00.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:00.091 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:00.100 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:00.102 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.104 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:06:00.107 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.109 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:06:00.117 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:00.120 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:00.122 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:00.124 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:06:00.125 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:06:00.127 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:06:00.130 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.133 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.134 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:00.135 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-10 13:06:00.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:06:00.138 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:00.147 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:00.151 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:06:00.154 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.156 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:06:00.158 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.160 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:06:00.165 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:00.169 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:06:00.171 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:06:00.174 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 13:06:00.177 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:06:00.185 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 13:06:00.187 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 13:06:00.189 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 321.7072ms
2024-06-10 13:06:00.191 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:00.192 +03:00 [DBG] Connection id "0HN496J7RG0HS" completed keep alive response.
2024-06-10 13:06:00.194 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:06:00.197 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:00.198 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:06:00.200 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=78997777777&EmployeeId=1 - 406 0 null 401.7944ms
2024-06-10 13:06:06.275 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:06:06.307 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:06:06.308 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:06:06.315 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:06.317 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:06:06.322 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:06.324 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:06:06.330 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:06:06.332 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:06:06.335 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:06:06.339 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:06:06.341 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:06:06.349 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:06.352 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:06.354 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:06.357 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:06:06.359 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:06.364 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:06.366 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:06.368 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:06.370 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:06.372 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:06:06.374 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:06.376 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:06.381 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:06.383 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:06.385 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:06.387 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:06:06.389 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:06.391 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:06.393 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:06.397 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:06:06.398 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:06.400 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:06:06.402 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:06.404 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:06.406 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:06.408 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:06.411 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:06:06.415 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:06:06.417 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:06:06.418 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.420 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.422 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:06.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:06:06.426 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:06:06.429 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:06.434 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:06.438 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:06.440 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.441 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-06-10 13:06:06.444 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.446 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:06:06.448 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:06.450 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:06.452 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:06.454 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:06:06.455 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:06:06.457 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:06:06.459 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.462 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.464 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:06.466 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:06:06.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:06:06.469 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:06.474 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:06.479 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:06:06.481 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.483 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-06-10 13:06:06.485 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.487 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:06:06.489 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:06.491 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:06:06.493 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:06:06.498 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 13:06:06.501 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:06:06.508 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 13:06:06.509 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 13:06:06.512 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 163.1007ms
2024-06-10 13:06:06.514 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:06.515 +03:00 [DBG] Connection id "0HN496J7RG0HS" completed keep alive response.
2024-06-10 13:06:06.517 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:06:06.519 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:06.521 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:06:06.523 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 406 0 null 247.9971ms
2024-06-10 13:06:09.572 +03:00 [DBG] Connection id "0HN496J7RG0HS" received FIN.
2024-06-10 13:06:09.574 +03:00 [DBG] Connection id "0HN496J7RG0HS" disconnecting.
2024-06-10 13:06:09.575 +03:00 [DBG] Connection id "0HN496J7RG0HS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:06:09.587 +03:00 [DBG] Connection id "0HN496J7RG0HS" stopped.
2024-06-10 13:06:12.797 +03:00 [DBG] Connection id "0HN496J7RG0HT" accepted.
2024-06-10 13:06:12.800 +03:00 [DBG] Connection id "0HN496J7RG0HT" started.
2024-06-10 13:06:12.804 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:06:12.807 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:06:12.808 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:06:12.825 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:12.839 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:06:12.840 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:12.841 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:06:12.853 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:06:12.854 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:06:12.856 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:06:12.859 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:06:12.863 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:06:12.865 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:12.868 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:12.870 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:12.872 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:06:12.873 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:12.875 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:12.878 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:12.880 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:12.881 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:12.883 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:06:12.886 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:12.887 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:12.889 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:12.891 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:12.892 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:12.896 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:06:12.898 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:12.900 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:12.902 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:12.904 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:06:12.905 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:12.907 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:06:12.913 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:12.916 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:12.917 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:12.919 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:12.922 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:06:12.925 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:06:12.928 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:06:12.931 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:12.933 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:12.934 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:12.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:06:12.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:06:12.940 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:12.949 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:12.953 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:12.955 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:12.957 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:06:12.959 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:12.965 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 13:06:12.967 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:12.969 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:12.972 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:12.974 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:06:12.975 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:06:12.981 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:06:12.983 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:12.985 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:12.987 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:12.988 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:06:12.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:06:12.992 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:13.001 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:13.006 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:06:13.008 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:13.013 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:06:13.015 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:13.017 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:06:13.019 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:13.022 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:06:13.024 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:06:13.036 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:06:13.038 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:06:13.040 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:06:13.042 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:06:13.050 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:06:13.053 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:06:13.058 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 192.9524ms
2024-06-10 13:06:13.066 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:13.068 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:06:13.100 +03:00 [DBG] Connection id "0HN496J7RG0HT" completed keep alive response.
2024-06-10 13:06:13.275 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:06:13.281 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:13.283 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:06:13.285 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 480.9095ms
2024-06-10 13:06:16.265 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:06:16.273 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:06:16.274 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:06:16.282 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:16.284 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:06:16.287 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:16.290 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:06:16.305 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:06:16.307 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:06:16.315 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:06:16.318 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:06:16.321 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:06:16.325 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:16.335 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:16.337 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:16.339 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:06:16.342 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:16.348 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:16.351 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:16.352 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:16.354 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:16.357 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:06:16.361 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:16.365 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:16.367 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:16.368 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:16.370 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:16.372 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:06:16.374 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:16.375 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:16.381 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:16.383 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:06:16.385 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:16.386 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:06:16.389 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:16.390 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:16.392 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:16.400 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:16.403 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:06:16.406 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:06:16.407 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:06:16.409 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.413 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.415 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:16.416 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:06:16.418 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:06:16.420 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:16.425 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:16.433 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:16.435 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.437 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:06:16.439 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.441 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:06:16.445 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:16.448 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:16.450 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:16.452 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:06:16.453 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:06:16.454 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:06:16.456 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.458 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.463 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:16.465 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:06:16.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:06:16.469 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:16.482 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:06:16.486 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:06:16.489 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.491 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:06:16.496 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.499 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:06:16.501 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:06:16.504 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:06:16.506 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:06:16.513 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:06:16.515 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:06:16.518 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:06:16.520 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:06:16.522 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:06:16.525 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:06:16.552 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 227.6363ms
2024-06-10 13:06:16.555 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:16.559 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:06:16.620 +03:00 [DBG] Connection id "0HN496J7RG0HT" completed keep alive response.
2024-06-10 13:06:16.631 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:06:16.633 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:16.634 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:06:16.637 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 371.3697ms
2024-06-10 13:06:19.589 +03:00 [DBG] Connection id "0HN496J7RG0HT" received FIN.
2024-06-10 13:06:19.593 +03:00 [DBG] Connection id "0HN496J7RG0HT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:06:19.595 +03:00 [DBG] Connection id "0HN496J7RG0HT" disconnecting.
2024-06-10 13:06:19.597 +03:00 [DBG] Connection id "0HN496J7RG0HT" stopped.
2024-06-10 13:06:33.709 +03:00 [DBG] Connection id "0HN496J7RG0HU" accepted.
2024-06-10 13:06:33.711 +03:00 [DBG] Connection id "0HN496J7RG0HU" started.
2024-06-10 13:06:33.712 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=122 - null 0
2024-06-10 13:06:33.717 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:06:33.718 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:06:33.750 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:33.753 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:06:33.754 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:33.761 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:06:33.765 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:06:33.767 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:06:33.769 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:06:33.773 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:06:33.779 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:06:33.781 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:33.784 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:06:33.786 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:33.788 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:06:33.790 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:33.792 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:33.794 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:06:33.796 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:06:33.798 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:33.800 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:06:33.802 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:33.803 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:33.805 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:06:33.807 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:06:33.809 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:33.811 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:06:33.813 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:33.814 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:06:33.816 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:06:33.818 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:06:33.819 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:33.821 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:06:33.823 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:33.826 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:33.828 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:06:33.830 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:06:33.833 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:06:33.836 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:06:33.838 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:06:33.839 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:33.842 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:33.844 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:06:33.845 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:06:33.847 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:06:33.849 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:33.855 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:06:33.863 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:33.865 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-06-10 13:06:33.868 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:33.870 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:06:54.386 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:06:54.414 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:06:54.415 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:06:54.417 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:06:54.494 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:06:54.497 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:06:54.500 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:06:54.505 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 20724.2201ms
2024-06-10 13:06:54.508 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:06:54.510 +03:00 [DBG] Connection id "0HN496J7RG0HU" completed keep alive response.
2024-06-10 13:06:54.511 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:06:54.513 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:06:54.514 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:06:54.516 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=122 - 201 174 text/json; charset=utf-8 20803.8209ms
2024-06-10 13:06:59.642 +03:00 [DBG] Connection id "0HN496J7RG0HU" received FIN.
2024-06-10 13:06:59.645 +03:00 [DBG] Connection id "0HN496J7RG0HU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:06:59.648 +03:00 [DBG] Connection id "0HN496J7RG0HU" disconnecting.
2024-06-10 13:06:59.655 +03:00 [DBG] Connection id "0HN496J7RG0HU" stopped.
2024-06-10 13:07:15.024 +03:00 [DBG] Connection id "0HN496J7RG0HV" accepted.
2024-06-10 13:07:15.036 +03:00 [DBG] Connection id "0HN496J7RG0I0" accepted.
2024-06-10 13:07:15.037 +03:00 [DBG] Connection id "0HN496J7RG0HV" started.
2024-06-10 13:07:15.042 +03:00 [DBG] Connection id "0HN496J7RG0I0" started.
2024-06-10 13:07:15.043 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:07:15.076 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:07:15.079 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:07:15.093 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:07:15.094 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:07:15.095 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:07:15.099 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:07:15.101 +03:00 [DBG] Connection id "0HN496J7RG0HV" completed keep alive response.
2024-06-10 13:07:15.104 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 60.9732ms
2024-06-10 13:07:15.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:07:15.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:07:15.176 +03:00 [DBG] Connection id "0HN496J7RG0HV" completed keep alive response.
2024-06-10 13:07:15.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.167ms
2024-06-10 13:07:15.201 +03:00 [DBG] Connection id "0HN496J7RG0I0" completed keep alive response.
2024-06-10 13:07:15.206 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8055ms
2024-06-10 13:07:15.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:07:15.559 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:07:15.903 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:07:16.050 +03:00 [DBG] Connection id "0HN496J7RG0I0" completed keep alive response.
2024-06-10 13:07:16.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1037.8546ms
2024-06-10 13:07:19.664 +03:00 [DBG] Connection id "0HN496J7RG0HV" received FIN.
2024-06-10 13:07:19.677 +03:00 [DBG] Connection id "0HN496J7RG0I0" received FIN.
2024-06-10 13:07:19.715 +03:00 [DBG] Connection id "0HN496J7RG0HV" disconnecting.
2024-06-10 13:07:19.716 +03:00 [DBG] Connection id "0HN496J7RG0I0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:07:19.717 +03:00 [DBG] Connection id "0HN496J7RG0HV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:07:19.719 +03:00 [DBG] Connection id "0HN496J7RG0I0" disconnecting.
2024-06-10 13:07:19.726 +03:00 [DBG] Connection id "0HN496J7RG0I0" stopped.
2024-06-10 13:07:19.734 +03:00 [DBG] Connection id "0HN496J7RG0HV" stopped.
2024-06-10 13:07:26.974 +03:00 [DBG] Connection id "0HN496J7RG0I1" accepted.
2024-06-10 13:07:26.976 +03:00 [DBG] Connection id "0HN496J7RG0I1" started.
2024-06-10 13:07:26.979 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=123&EmployeeId=112 - null 0
2024-06-10 13:07:26.983 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:07:26.990 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:07:26.994 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:07:26.996 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:07:26.998 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:07:27.010 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:07:27.014 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:07:27.015 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:07:27.017 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:07:27.021 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:07:27.026 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:07:27.029 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:07:27.031 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:07:27.033 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:07:27.035 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:07:27.037 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:07:27.041 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:07:27.042 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:07:27.044 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:07:27.046 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:07:27.048 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:07:27.050 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:07:27.051 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:07:27.053 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:07:27.064 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:07:27.065 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:07:27.067 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:07:27.070 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:07:27.076 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:07:27.079 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:07:27.081 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:07:27.083 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:07:27.086 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:07:27.095 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:07:27.097 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:07:27.099 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:07:27.101 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:07:27.109 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:07:27.112 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:07:27.113 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:07:27.115 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:27.116 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:27.118 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:07:27.119 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:07:27.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:07:27.125 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:07:27.132 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:07:27.138 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:27.144 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:07:27.147 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:27.149 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:07:35.470 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:07:35.476 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:07:35.478 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-06-10 13:07:35.480 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-10 13:07:35.482 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 8453.0666ms
2024-06-10 13:07:35.484 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:07:35.485 +03:00 [DBG] Connection id "0HN496J7RG0I1" completed keep alive response.
2024-06-10 13:07:35.487 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:07:35.489 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:35.491 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:07:35.493 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=123&EmployeeId=112 - 404 null text/plain; charset=utf-8 8514.1594ms
2024-06-10 13:07:39.701 +03:00 [DBG] Connection id "0HN496J7RG0I1" received FIN.
2024-06-10 13:07:39.704 +03:00 [DBG] Connection id "0HN496J7RG0I1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:07:39.706 +03:00 [DBG] Connection id "0HN496J7RG0I1" disconnecting.
2024-06-10 13:07:39.708 +03:00 [DBG] Connection id "0HN496J7RG0I1" stopped.
2024-06-10 13:07:47.614 +03:00 [DBG] Connection id "0HN496J7RG0I2" accepted.
2024-06-10 13:07:47.615 +03:00 [DBG] Connection id "0HN496J7RG0I2" started.
2024-06-10 13:07:47.678 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=123&EmployeeId=112 - null 0
2024-06-10 13:07:47.682 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:07:47.684 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:07:47.689 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:07:47.691 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:07:47.692 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:07:47.693 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:07:47.697 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:07:47.699 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:07:47.701 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:07:47.706 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:07:47.708 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:07:47.711 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:07:47.714 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:07:47.716 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:07:47.718 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:07:47.723 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:07:47.725 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:07:47.727 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:07:47.729 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:07:47.731 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:07:47.732 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:07:47.735 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:07:47.739 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:07:47.741 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:07:47.742 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:07:47.744 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:07:47.746 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:07:47.748 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:07:47.749 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:07:47.751 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:07:47.756 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:07:47.759 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:07:47.761 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:07:47.763 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:07:47.765 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:07:47.766 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:07:47.768 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:07:47.774 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:07:47.777 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:07:47.778 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-10 13:07:47.780 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:47.781 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:47.783 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:07:47.784 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:07:47.789 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-10 13:07:47.791 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:07:47.797 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:07:47.800 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:47.802 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-06-10 13:07:47.807 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:47.809 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:07:51.737 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:07:51.742 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:07:51.744 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:07:51.746 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-06-10 13:07:51.748 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 4037.7209ms
2024-06-10 13:07:51.751 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:07:51.753 +03:00 [DBG] Connection id "0HN496J7RG0I2" completed keep alive response.
2024-06-10 13:07:51.755 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:07:51.756 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:07:51.757 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:07:51.759 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=123&EmployeeId=112 - 404 23 text/json; charset=utf-8 4082.0019ms
2024-06-10 13:07:59.709 +03:00 [DBG] Connection id "0HN496J7RG0I2" received FIN.
2024-06-10 13:07:59.711 +03:00 [DBG] Connection id "0HN496J7RG0I2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:07:59.713 +03:00 [DBG] Connection id "0HN496J7RG0I2" disconnecting.
2024-06-10 13:07:59.714 +03:00 [DBG] Connection id "0HN496J7RG0I2" stopped.
2024-06-10 13:08:01.479 +03:00 [DBG] Connection id "0HN496J7RG0I3" accepted.
2024-06-10 13:08:01.481 +03:00 [DBG] Connection id "0HN496J7RG0I3" started.
2024-06-10 13:08:01.482 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=123&EmployeeId=1 - null 0
2024-06-10 13:08:01.487 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:08:01.488 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:08:01.490 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:01.508 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:08:01.509 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:01.511 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:08:01.517 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:08:01.525 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:08:01.528 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:08:01.532 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:08:01.535 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:08:01.541 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:08:01.545 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:08:01.548 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:08:01.552 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:08:01.558 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:01.560 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:01.562 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:08:01.565 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:01.567 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:08:01.574 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:08:01.577 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:01.579 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:01.581 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:08:01.583 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:01.585 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:08:01.593 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:08:01.595 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:08:01.597 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:08:01.599 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:08:01.601 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:08:01.605 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:08:01.609 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:08:01.611 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:01.613 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:01.614 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:08:01.616 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:01.620 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:08:01.629 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:08:01.631 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 13:08:01.633 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.636 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.639 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:08:01.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:08:01.644 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:08:01.647 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:08:01.655 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:08:01.661 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:01.663 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.665 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:08:01.667 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.670 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-06-10 13:08:01.674 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:01.677 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:01.679 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:01.681 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:08:01.682 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:08:01.684 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:08:01.688 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.693 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.695 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:08:01.699 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:08:01.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-10 13:08:01.704 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:08:01.719 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:08:01.725 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:08:01.728 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.730 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-06-10 13:08:01.733 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.735 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:08:01.738 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:01.745 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:08:01.747 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:08:01.753 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:08:01.755 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:08:01.759 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:08:01.762 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:08:01.765 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:08:01.774 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:08:01.779 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 238.5054ms
2024-06-10 13:08:01.781 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:01.784 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:08:01.810 +03:00 [DBG] Connection id "0HN496J7RG0I3" completed keep alive response.
2024-06-10 13:08:01.814 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:08:01.816 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:01.824 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-06-10 13:08:01.826 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=123&EmployeeId=1 - 500 null text/plain; charset=utf-8 343.5386ms
2024-06-10 13:08:09.730 +03:00 [DBG] Connection id "0HN496J7RG0I3" received FIN.
2024-06-10 13:08:09.732 +03:00 [DBG] Connection id "0HN496J7RG0I3" disconnecting.
2024-06-10 13:08:09.735 +03:00 [DBG] Connection id "0HN496J7RG0I3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:08:09.746 +03:00 [DBG] Connection id "0HN496J7RG0I3" stopped.
2024-06-10 13:08:19.475 +03:00 [DBG] Connection id "0HN496J7RG0I4" accepted.
2024-06-10 13:08:19.479 +03:00 [DBG] Connection id "0HN496J7RG0I4" started.
2024-06-10 13:08:19.480 +03:00 [DBG] Connection id "0HN496J7RG0I5" accepted.
2024-06-10 13:08:19.482 +03:00 [DBG] Connection id "0HN496J7RG0I5" started.
2024-06-10 13:08:19.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:08:19.499 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:08:19.501 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:08:19.510 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:08:19.511 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:08:19.513 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:08:19.514 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:08:19.515 +03:00 [DBG] Connection id "0HN496J7RG0I5" completed keep alive response.
2024-06-10 13:08:19.518 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 31.1723ms
2024-06-10 13:08:19.589 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:08:19.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:08:19.594 +03:00 [DBG] Connection id "0HN496J7RG0I5" completed keep alive response.
2024-06-10 13:08:19.602 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.9642ms
2024-06-10 13:08:19.610 +03:00 [DBG] Connection id "0HN496J7RG0I4" completed keep alive response.
2024-06-10 13:08:19.613 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.1062ms
2024-06-10 13:08:19.736 +03:00 [DBG] Connection id "0HN496J7RG0I5" received FIN.
2024-06-10 13:08:19.737 +03:00 [DBG] Connection id "0HN496J7RG0I4" received FIN.
2024-06-10 13:08:19.743 +03:00 [DBG] Connection id "0HN496J7RG0I5" disconnecting.
2024-06-10 13:08:19.744 +03:00 [DBG] Connection id "0HN496J7RG0I4" disconnecting.
2024-06-10 13:08:19.745 +03:00 [DBG] Connection id "0HN496J7RG0I5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:08:19.747 +03:00 [DBG] Connection id "0HN496J7RG0I4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:08:19.753 +03:00 [DBG] Connection id "0HN496J7RG0I5" stopped.
2024-06-10 13:08:19.768 +03:00 [DBG] Connection id "0HN496J7RG0I4" stopped.
2024-06-10 13:08:19.871 +03:00 [DBG] Connection id "0HN496J7RG0I6" accepted.
2024-06-10 13:08:19.878 +03:00 [DBG] Connection id "0HN496J7RG0I6" started.
2024-06-10 13:08:19.904 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:08:19.907 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:08:19.908 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:08:19.955 +03:00 [DBG] Connection id "0HN496J7RG0I6" completed keep alive response.
2024-06-10 13:08:19.965 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.7468ms
2024-06-10 13:08:29.749 +03:00 [DBG] Connection id "0HN496J7RG0I6" received FIN.
2024-06-10 13:08:29.751 +03:00 [DBG] Connection id "0HN496J7RG0I6" disconnecting.
2024-06-10 13:08:29.754 +03:00 [DBG] Connection id "0HN496J7RG0I6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:08:29.757 +03:00 [DBG] Connection id "0HN496J7RG0I6" stopped.
2024-06-10 13:08:33.589 +03:00 [DBG] Connection id "0HN496J7RG0I7" accepted.
2024-06-10 13:08:33.590 +03:00 [DBG] Connection id "0HN496J7RG0I7" started.
2024-06-10 13:08:33.592 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:08:33.598 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:08:33.600 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:08:33.606 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:33.608 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:08:33.609 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:33.622 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:08:33.625 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:08:33.627 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:08:33.629 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:08:33.637 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:08:33.640 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:08:33.642 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:08:33.645 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:08:33.647 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:08:33.653 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:08:33.656 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:33.658 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:33.660 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:08:33.662 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:33.664 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:08:33.670 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:08:33.673 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:33.674 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:33.677 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:08:33.678 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:33.680 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:08:33.685 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:08:33.688 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:08:33.690 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:08:33.692 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:08:33.694 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:08:33.696 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:08:33.697 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:08:33.704 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:33.706 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:33.709 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:08:33.710 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:33.714 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:08:33.722 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:08:33.723 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:08:33.724 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:33.726 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:33.728 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:08:33.729 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:08:33.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:08:33.738 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:08:33.752 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:08:33.753 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:08:33.758 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:08:37.959 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:37.964 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:08:37.968 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:37.977 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:08:37.979 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4216ms reading results.
2024-06-10 13:08:37.980 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:08:37.986 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 4343.6694ms
2024-06-10 13:08:37.983 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:37.987 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:37.989 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (6ms).
2024-06-10 13:08:37.990 +03:00 [DBG] Connection id "0HN496J7RG0I7" completed keep alive response.
2024-06-10 13:08:37.993 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:37.994 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:08:37.997 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:37.998 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:38.001 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:38.006 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-06-10 13:08:38.009 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 406 0 null 4417.0576ms
2024-06-10 13:08:39.755 +03:00 [DBG] Connection id "0HN496J7RG0I7" received FIN.
2024-06-10 13:08:39.757 +03:00 [DBG] Connection id "0HN496J7RG0I7" disconnecting.
2024-06-10 13:08:39.758 +03:00 [DBG] Connection id "0HN496J7RG0I7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:08:39.775 +03:00 [DBG] Connection id "0HN496J7RG0I7" stopped.
2024-06-10 13:08:45.608 +03:00 [DBG] Connection id "0HN496J7RG0I8" accepted.
2024-06-10 13:08:45.609 +03:00 [DBG] Connection id "0HN496J7RG0I8" started.
2024-06-10 13:08:45.611 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:08:45.617 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:08:45.619 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:08:45.625 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:45.640 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:08:45.641 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:45.643 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:08:45.647 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:08:45.653 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:08:45.655 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:08:45.657 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:08:45.659 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:08:45.661 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:08:45.663 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:08:45.669 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:08:45.670 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:08:45.673 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:45.675 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:45.677 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:08:45.678 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:08:45.680 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:08:45.695 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:08:45.698 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:45.702 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:45.704 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:08:45.705 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:08:45.707 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:08:45.709 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:08:45.711 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:08:45.713 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:08:45.717 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:08:45.719 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:08:45.721 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:08:45.723 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:08:45.725 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:45.727 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:45.730 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:08:45.739 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:08:45.742 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:08:45.746 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:08:45.747 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:08:45.753 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:45.755 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:45.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:08:45.758 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:08:45.760 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:08:45.762 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:08:45.769 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:08:45.770 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:08:45.773 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:08:53.765 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:08:53.763 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:53.767 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:08:53.769 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.772 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:08:53.773 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7997ms reading results.
2024-06-10 13:08:53.776 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:08:53.778 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.782 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:08:53.784 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 13:08:53.788 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:53.791 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:53.793 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:53.795 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:08:53.797 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:08:53.799 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:08:53.801 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.803 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:08:53.806 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:08:53.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:08:53.809 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 8147.7478ms
2024-06-10 13:08:53.810 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:08:53.813 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:08:53.819 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'task' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]'. Path 'stateMachine.<>t__builder'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:08:53.826 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:08:53.846 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:08:53.848 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.849 +03:00 [DBG] Connection id "0HN496J7RG0I8" completed keep alive response.
2024-06-10 13:08:53.850 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:08:53.852 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:08:53.854 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.855 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:08:53.858 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-06-10 13:08:53.859 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 13:08:53.861 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:08:53.863 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 500 null text/plain; charset=utf-8 8252.3008ms
2024-06-10 13:08:59.767 +03:00 [DBG] Connection id "0HN496J7RG0I8" received FIN.
2024-06-10 13:08:59.770 +03:00 [DBG] Connection id "0HN496J7RG0I8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:08:59.774 +03:00 [DBG] Connection id "0HN496J7RG0I8" disconnecting.
2024-06-10 13:08:59.776 +03:00 [DBG] Connection id "0HN496J7RG0I8" stopped.
2024-06-10 13:09:11.348 +03:00 [DBG] Connection id "0HN496J7RG0I9" accepted.
2024-06-10 13:09:11.350 +03:00 [DBG] Connection id "0HN496J7RG0I9" started.
2024-06-10 13:09:11.352 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:09:11.357 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:09:11.358 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:09:11.361 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:11.363 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:09:11.394 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:11.395 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:09:11.401 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:09:11.407 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:09:11.408 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:09:11.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:09:11.415 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:09:11.418 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:09:11.420 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:09:11.422 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:09:11.423 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:09:11.426 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:11.427 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:11.429 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:09:11.432 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:11.434 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:09:11.436 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:09:11.438 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:11.440 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:11.442 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:09:11.443 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:11.445 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:09:11.449 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:09:11.451 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:09:11.453 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:09:11.454 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:09:11.456 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:09:11.458 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:09:11.459 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:09:11.462 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:11.467 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:11.469 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:09:11.471 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:11.474 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:09:11.477 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:09:11.478 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:09:11.484 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:11.486 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:11.487 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:09:11.489 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:09:11.491 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:09:11.493 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:09:11.501 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:09:11.504 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:09:11.506 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:09:11.510 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:11.511 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:09:11.523 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:09:11.524 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:11.526 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:09:11.528 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 17ms reading results.
2024-06-10 13:09:11.532 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:09:11.534 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:11.537 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:09:11.539 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-06-10 13:09:11.544 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 126.2037ms
2024-06-10 13:09:11.544 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:11.549 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:11.551 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:11.554 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'task' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]'. Path 'stateMachine.<>t__builder'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:09:11.555 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:11.577 +03:00 [DBG] Connection id "0HN496J7RG0I9" completed keep alive response.
2024-06-10 13:09:11.577 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:09:11.583 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:09:11.583 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:09:11.626 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:09:11.626 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:11.673 +03:00 [DBG] Disposed connection to database '' on server '' (47ms).
2024-06-10 13:09:11.734 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 500 null text/plain; charset=utf-8 382.4484ms
2024-06-10 13:09:19.798 +03:00 [DBG] Connection id "0HN496J7RG0I9" received FIN.
2024-06-10 13:09:19.800 +03:00 [DBG] Connection id "0HN496J7RG0I9" disconnecting.
2024-06-10 13:09:19.802 +03:00 [DBG] Connection id "0HN496J7RG0I9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:09:19.814 +03:00 [DBG] Connection id "0HN496J7RG0I9" stopped.
2024-06-10 13:09:21.523 +03:00 [DBG] Connection id "0HN496J7RG0IA" accepted.
2024-06-10 13:09:21.528 +03:00 [DBG] Connection id "0HN496J7RG0IA" started.
2024-06-10 13:09:21.531 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:09:21.534 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:09:21.573 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:09:21.583 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:21.585 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:09:21.586 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:21.588 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:09:21.591 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:09:21.593 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:09:21.596 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:09:21.603 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:09:21.605 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:09:21.607 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:09:21.610 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:09:21.614 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:09:21.623 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:09:21.626 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:21.628 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:21.631 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:09:21.633 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:21.635 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:09:21.637 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:09:21.639 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:21.641 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:21.643 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:09:21.645 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:21.648 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:09:21.649 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:09:21.651 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:09:21.653 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:09:21.654 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:09:21.656 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:09:21.657 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:09:21.659 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:09:21.661 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:21.664 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:21.666 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:09:21.667 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:21.670 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:09:21.672 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:09:21.673 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:09:21.675 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:21.676 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:21.678 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:09:21.680 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:09:21.682 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:09:21.684 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:09:21.688 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:09:21.690 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:09:21.692 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/xml"]'.
2024-06-10 13:09:21.695 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:21.698 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:09:21.699 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:21.707 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/xml"])
2024-06-10 13:09:21.709 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-06-10 13:09:21.711 +03:00 [WRN] No output formatter was found for content types '["text/xml"]' to write the response.
2024-06-10 13:09:21.714 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:21.716 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 108.2442ms
2024-06-10 13:09:21.717 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:09:21.718 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:21.720 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:21.721 +03:00 [DBG] Connection id "0HN496J7RG0IA" completed keep alive response.
2024-06-10 13:09:21.724 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:21.725 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:09:21.727 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:21.730 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:21.734 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-06-10 13:09:21.736 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 406 0 null 205.1181ms
2024-06-10 13:09:27.468 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - null 0
2024-06-10 13:09:27.478 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:09:27.481 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:09:27.525 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:27.527 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:09:27.533 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:27.535 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:09:27.539 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:09:27.542 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:09:27.544 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:09:27.553 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:09:27.555 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:09:27.558 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:09:27.560 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:09:27.571 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:09:27.576 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:09:27.584 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:27.586 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:27.588 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:09:27.590 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:09:27.593 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:09:27.601 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:09:27.605 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:27.607 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:27.609 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:09:27.615 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:09:27.617 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:09:27.619 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:09:27.621 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:09:27.623 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:09:27.625 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:09:27.626 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:09:27.633 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:09:27.634 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:09:27.637 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:27.638 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:27.640 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:09:27.641 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:09:27.644 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:09:27.650 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:09:27.651 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:09:27.653 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.655 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.656 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:09:27.658 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:09:27.659 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:09:27.664 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:09:27.669 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:09:27.671 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:09:27.673 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-06-10 13:09:27.677 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:27.680 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-10 13:09:27.682 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.685 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:09:27.686 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-06-10 13:09:27.689 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:09:27.691 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.694 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:09:27.699 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (7ms).
2024-06-10 13:09:27.702 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:09:27.704 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:27.708 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 150.4157ms
2024-06-10 13:09:27.709 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:27.711 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:09:27.714 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:09:27.717 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'task' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]'. Path 'stateMachine.<>t__builder'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:09:27.718 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:09:27.740 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:09:27.742 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:09:27.741 +03:00 [DBG] Connection id "0HN496J7RG0IA" completed keep alive response.
2024-06-10 13:09:27.744 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.746 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:09:27.749 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.750 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.752 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:27.754 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 13:09:27.758 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=7&EmployeeId=1 - 500 null text/plain; charset=utf-8 290.1286ms
2024-06-10 13:09:27.760 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:09:27.764 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:09:27.765 +03:00 [ERR] An error occurred using the connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:09:29.811 +03:00 [DBG] Connection id "0HN496J7RG0IA" received FIN.
2024-06-10 13:09:29.813 +03:00 [DBG] Connection id "0HN496J7RG0IA" disconnecting.
2024-06-10 13:09:29.814 +03:00 [DBG] Connection id "0HN496J7RG0IA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:09:29.826 +03:00 [DBG] Connection id "0HN496J7RG0IA" stopped.
2024-06-10 13:10:04.428 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:10:04.671 +03:00 [DBG] Hosting starting
2024-06-10 13:10:04.923 +03:00 [DBG] Connection id "0HN496LVRS6G0" reset.
2024-06-10 13:10:04.923 +03:00 [DBG] Connection id "0HN496LVRS6FV" reset.
2024-06-10 13:10:04.938 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:10:06.623 +03:00 [DBG] Connection id "0HN496LVRS6G0" accepted.
2024-06-10 13:10:06.636 +03:00 [DBG] Connection id "0HN496LVRS6FV" accepted.
2024-06-10 13:10:06.645 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:10:06.648 +03:00 [DBG] Connection id "0HN496LVRS6G0" started.
2024-06-10 13:10:06.666 +03:00 [DBG] Connection id "0HN496LVRS6G1" received FIN.
2024-06-10 13:10:06.666 +03:00 [DBG] Connection id "0HN496LVRS6FV" started.
2024-06-10 13:10:06.668 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:10:06.670 +03:00 [DBG] Connection id "0HN496LVRS6G1" accepted.
2024-06-10 13:10:06.673 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:10:06.679 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:10:06.681 +03:00 [DBG] Connection id "0HN496LVRS6G2" accepted.
2024-06-10 13:10:06.679 +03:00 [DBG] Connection id "0HN496LVRS6G0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:06.681 +03:00 [INF] Hosting environment: Development
2024-06-10 13:10:06.681 +03:00 [DBG] Connection id "0HN496LVRS6G1" started.
2024-06-10 13:10:06.679 +03:00 [DBG] Connection id "0HN496LVRS6FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:06.683 +03:00 [DBG] Connection id "0HN496LVRS6G2" started.
2024-06-10 13:10:06.686 +03:00 [DBG] Connection id "0HN496LVRS6G0" disconnecting.
2024-06-10 13:10:06.686 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:10:06.688 +03:00 [DBG] Connection id "0HN496LVRS6G1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:06.696 +03:00 [DBG] Hosting started
2024-06-10 13:10:06.690 +03:00 [DBG] Connection id "0HN496LVRS6FV" disconnecting.
2024-06-10 13:10:06.699 +03:00 [DBG] Connection id "0HN496LVRS6G1" disconnecting.
2024-06-10 13:10:06.699 +03:00 [DBG] Connection id "0HN496LVRS6G0" stopped.
2024-06-10 13:10:06.704 +03:00 [DBG] Connection id "0HN496LVRS6G1" stopped.
2024-06-10 13:10:06.702 +03:00 [DBG] Connection id "0HN496LVRS6FV" stopped.
2024-06-10 13:10:06.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:10:06.957 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:10:07.001 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:10:07.003 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:10:07.237 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:10:07.241 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:10:07.268 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:10:07.271 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:10:07.297 +03:00 [DBG] Connection id "0HN496LVRS6G2" completed keep alive response.
2024-06-10 13:10:07.305 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 576.4861ms
2024-06-10 13:10:07.339 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:10:07.351 +03:00 [DBG] Connection id "0HN496LVRS6G3" accepted.
2024-06-10 13:10:07.361 +03:00 [DBG] Connection id "0HN496LVRS6G2" completed keep alive response.
2024-06-10 13:10:07.363 +03:00 [DBG] Connection id "0HN496LVRS6G3" started.
2024-06-10 13:10:07.369 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 30.7304ms
2024-06-10 13:10:07.370 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:10:07.490 +03:00 [DBG] Connection id "0HN496LVRS6G3" completed keep alive response.
2024-06-10 13:10:07.495 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 124.7867ms
2024-06-10 13:10:07.623 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:10:07.632 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:10:07.633 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:10:08.135 +03:00 [DBG] Connection id "0HN496LVRS6G3" completed keep alive response.
2024-06-10 13:10:08.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 522.0238ms
2024-06-10 13:10:15.877 +03:00 [DBG] Connection id "0HN496LVRS6G2" received FIN.
2024-06-10 13:10:15.878 +03:00 [DBG] Connection id "0HN496LVRS6G3" received FIN.
2024-06-10 13:10:15.881 +03:00 [DBG] Connection id "0HN496LVRS6G2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:15.881 +03:00 [DBG] Connection id "0HN496LVRS6G3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:15.884 +03:00 [DBG] Connection id "0HN496LVRS6G2" disconnecting.
2024-06-10 13:10:15.886 +03:00 [DBG] Connection id "0HN496LVRS6G3" disconnecting.
2024-06-10 13:10:15.889 +03:00 [DBG] Connection id "0HN496LVRS6G2" stopped.
2024-06-10 13:10:15.889 +03:00 [DBG] Connection id "0HN496LVRS6G3" stopped.
2024-06-10 13:10:29.933 +03:00 [DBG] Connection id "0HN496LVRS6G4" accepted.
2024-06-10 13:10:29.941 +03:00 [DBG] Connection id "0HN496LVRS6G4" started.
2024-06-10 13:10:29.953 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=8877&EmployeeId=1 - null 0
2024-06-10 13:10:29.968 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:10:29.975 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:10:29.981 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:10:29.987 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:10:29.990 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:10:29.996 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:10:30.043 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:10:30.050 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:10:30.052 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:10:30.054 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:10:30.058 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:10:30.061 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:10:30.066 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:10:30.278 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:10:30.533 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:10:30.549 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:10:30.554 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:10:30.561 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:10:30.563 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:10:30.564 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:10:30.569 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:10:30.572 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:10:30.576 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:10:30.579 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:10:30.581 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:10:30.583 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:10:30.585 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:10:30.586 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:10:30.589 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:10:30.594 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:10:30.596 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:10:30.597 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:10:30.599 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:10:30.601 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:10:30.603 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:10:30.606 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:10:30.609 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:10:30.611 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:10:30.613 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:10:31.738 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:10:31.831 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:10:32.232 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-10 13:10:32.311 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:10:32.341 +03:00 [DBG] Created DbConnection. (28ms).
2024-06-10 13:10:32.346 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:32.771 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:32.786 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:10:32.802 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-06-10 13:10:32.820 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2024-06-10 13:10:32.846 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:10:32.924 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:10:32.971 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:33.029 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.043 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 106ms reading results.
2024-06-10 13:10:33.049 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.063 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (14ms).
2024-06-10 13:10:33.113 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:33.175 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:33.203 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:33.211 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:10:33.215 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:10:33.255 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:10:33.368 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.375 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.383 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:10:33.385 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:10:33.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:10:33.393 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:10:33.441 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:10:33.442 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:10:33.459 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:10:33.466 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:10:33.486 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:10:33.500 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:10:33.504 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:10:33.513 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 3443.9744ms
2024-06-10 13:10:33.514 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.514 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:10:33.518 +03:00 [DBG] Connection id "0HN496LVRS6G4" completed keep alive response.
2024-06-10 13:10:33.519 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 68ms reading results.
2024-06-10 13:10:33.528 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.531 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:10:33.532 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:10:33.542 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:33.545 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 13:10:33.548 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=8877&EmployeeId=1 - 406 0 null 3594.4901ms
2024-06-10 13:10:33.551 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:35.922 +03:00 [DBG] Connection id "0HN496LVRS6G4" received FIN.
2024-06-10 13:10:35.926 +03:00 [DBG] Connection id "0HN496LVRS6G4" disconnecting.
2024-06-10 13:10:35.928 +03:00 [DBG] Connection id "0HN496LVRS6G4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:35.934 +03:00 [DBG] Connection id "0HN496LVRS6G4" stopped.
2024-06-10 13:10:36.332 +03:00 [DBG] Connection id "0HN496LVRS6G5" accepted.
2024-06-10 13:10:36.352 +03:00 [DBG] Connection id "0HN496LVRS6G5" started.
2024-06-10 13:10:36.362 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=8877&EmployeeId=1 - null 0
2024-06-10 13:10:36.403 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:10:36.405 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:10:36.410 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:10:36.412 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:10:36.413 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:10:36.415 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:10:36.419 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:10:36.420 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:10:36.422 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:10:36.427 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:10:36.430 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:10:36.432 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:10:36.437 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:10:36.444 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:10:36.446 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:10:36.448 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:10:36.450 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:10:36.451 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:10:36.453 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:10:36.455 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:10:36.458 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:10:36.461 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:10:36.463 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:10:36.464 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:10:36.466 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:10:36.468 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:10:36.470 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:10:36.472 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:10:36.476 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:10:36.478 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:10:36.479 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:10:36.481 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:10:36.483 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:10:36.485 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:10:36.486 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:10:36.488 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:10:36.493 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:10:36.535 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:10:36.551 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:10:36.553 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:10:36.555 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.563 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:10:36.567 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:10:36.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:10:36.571 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:10:36.585 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:10:36.589 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:36.596 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.597 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-06-10 13:10:36.599 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.601 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:10:36.604 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:36.611 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:36.613 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:36.615 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:10:36.616 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:10:36.618 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:10:36.621 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.626 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:10:36.630 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:10:36.632 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:10:36.634 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:10:36.655 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:10:36.655 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:10:36.663 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:10:36.667 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:10:36.670 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:10:36.671 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.675 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:10:36.677 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-06-10 13:10:36.682 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:36.684 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:10:36.686 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:10:36.692 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:10:36.723 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:10:36.755 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:10:36.764 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:10:36.981 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 549.4373ms
2024-06-10 13:10:36.988 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:10:36.995 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'target' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]'. Path 'moveNextAction'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:10:37.043 +03:00 [DBG] Connection id "0HN496LVRS6G5" completed keep alive response.
2024-06-10 13:10:37.051 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:10:37.053 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:10:37.059 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-06-10 13:10:37.062 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=8877&EmployeeId=1 - 500 null text/plain; charset=utf-8 700.4923ms
2024-06-10 13:10:45.925 +03:00 [DBG] Connection id "0HN496LVRS6G5" received FIN.
2024-06-10 13:10:45.932 +03:00 [DBG] Connection id "0HN496LVRS6G5" disconnecting.
2024-06-10 13:10:45.934 +03:00 [DBG] Connection id "0HN496LVRS6G5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:10:45.940 +03:00 [DBG] Connection id "0HN496LVRS6G5" stopped.
2024-06-10 13:11:59.995 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:12:00.300 +03:00 [DBG] Hosting starting
2024-06-10 13:12:00.526 +03:00 [DBG] Connection id "0HN496N2ABSJG" received FIN.
2024-06-10 13:12:00.547 +03:00 [DBG] Connection id "0HN496N2ABSJG" accepted.
2024-06-10 13:12:00.554 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:12:00.561 +03:00 [DBG] Connection id "0HN496N2ABSJG" started.
2024-06-10 13:12:00.588 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:12:00.598 +03:00 [DBG] Connection id "0HN496N2ABSJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:12:00.606 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:12:01.404 +03:00 [DBG] Connection id "0HN496N2ABSJH" accepted.
2024-06-10 13:12:01.651 +03:00 [DBG] Connection id "0HN496N2ABSJG" disconnecting.
2024-06-10 13:12:01.656 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:12:01.662 +03:00 [DBG] Connection id "0HN496N2ABSJH" started.
2024-06-10 13:12:01.663 +03:00 [DBG] Connection id "0HN496N2ABSJI" accepted.
2024-06-10 13:12:01.671 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:12:01.672 +03:00 [DBG] Connection id "0HN496N2ABSJG" stopped.
2024-06-10 13:12:01.673 +03:00 [DBG] Connection id "0HN496N2ABSJI" started.
2024-06-10 13:12:01.675 +03:00 [INF] Hosting environment: Development
2024-06-10 13:12:01.711 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:12:01.713 +03:00 [DBG] Hosting started
2024-06-10 13:12:01.721 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:12:01.979 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:12:02.026 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:12:02.028 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:12:02.257 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:12:02.261 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:12:02.291 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:12:02.316 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:12:02.323 +03:00 [DBG] Connection id "0HN496N2ABSJH" completed keep alive response.
2024-06-10 13:12:02.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 618.2824ms
2024-06-10 13:12:02.471 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:12:02.482 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:12:02.822 +03:00 [DBG] Connection id "0HN496N2ABSJH" completed keep alive response.
2024-06-10 13:12:02.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 355.3006ms
2024-06-10 13:12:02.930 +03:00 [DBG] Connection id "0HN496N2ABSJI" completed keep alive response.
2024-06-10 13:12:02.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 453.4001ms
2024-06-10 13:12:03.041 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:12:03.046 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:12:03.048 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:12:03.504 +03:00 [DBG] Connection id "0HN496N2ABSJI" completed keep alive response.
2024-06-10 13:12:03.506 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 465.1939ms
2024-06-10 13:12:04.398 +03:00 [DBG] Connection id "0HN496N2ABSJH" received FIN.
2024-06-10 13:12:04.398 +03:00 [DBG] Connection id "0HN496N2ABSJI" received FIN.
2024-06-10 13:12:04.405 +03:00 [DBG] Connection id "0HN496N2ABSJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:12:04.406 +03:00 [DBG] Connection id "0HN496N2ABSJI" disconnecting.
2024-06-10 13:12:04.410 +03:00 [DBG] Connection id "0HN496N2ABSJH" disconnecting.
2024-06-10 13:12:04.413 +03:00 [DBG] Connection id "0HN496N2ABSJI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:12:04.416 +03:00 [DBG] Connection id "0HN496N2ABSJH" stopped.
2024-06-10 13:12:04.422 +03:00 [DBG] Connection id "0HN496N2ABSJI" stopped.
2024-06-10 13:12:39.343 +03:00 [DBG] Connection id "0HN496N2ABSJJ" accepted.
2024-06-10 13:12:39.422 +03:00 [DBG] Connection id "0HN496N2ABSJJ" started.
2024-06-10 13:12:39.438 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:12:39.454 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:12:39.486 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:12:39.493 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:12:39.504 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:12:39.509 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:12:39.514 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:12:39.600 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:12:39.609 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:12:39.611 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:12:39.613 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:12:39.623 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:12:39.625 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:12:39.632 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:12:40.307 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:12:40.562 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:12:40.576 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:12:40.583 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:12:40.590 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:12:40.592 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:12:40.594 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:12:40.603 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:12:40.607 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:12:40.610 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:12:40.616 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:12:40.620 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:12:40.625 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:12:40.634 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:12:40.637 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:12:40.640 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:12:40.645 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:12:40.652 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:12:40.654 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:12:40.657 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:12:40.659 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:12:40.662 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:12:40.669 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:12:40.671 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:12:40.674 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:12:40.676 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:12:41.929 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:12:41.992 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:12:42.086 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:12:42.097 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:12:42.110 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:12:42.143 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:12:42.242 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:12:42.306 +03:00 [DBG] Created DbConnection. (61ms).
2024-06-10 13:12:42.318 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:43.043 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:12:43.059 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:12:43.062 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:12:43.069 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:12:43.094 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:12:43.110 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:12:43.117 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:12:43.453 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 3818.7904ms
2024-06-10 13:12:43.457 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:12:43.461 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'task' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]'. Path 'stateMachine.<>t__builder'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:12:43.525 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:43.656 +03:00 [DBG] Connection id "0HN496N2ABSJJ" completed keep alive response.
2024-06-10 13:12:43.660 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:12:43.683 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:12:43.693 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:43.696 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-06-10 13:12:43.705 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-10 13:12:43.708 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 4270.6168ms
2024-06-10 13:12:43.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2024-06-10 13:12:43.742 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:12:43.805 +03:00 [ERR] Failed executing DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:12:44.444 +03:00 [DBG] Connection id "0HN496N2ABSJJ" received FIN.
2024-06-10 13:12:44.449 +03:00 [DBG] Connection id "0HN496N2ABSJJ" disconnecting.
2024-06-10 13:12:44.453 +03:00 [DBG] Connection id "0HN496N2ABSJJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:12:44.464 +03:00 [DBG] Connection id "0HN496N2ABSJJ" stopped.
2024-06-10 13:12:49.800 +03:00 [DBG] Connection id "0HN496N2ABSJK" accepted.
2024-06-10 13:12:49.802 +03:00 [DBG] Connection id "0HN496N2ABSJK" started.
2024-06-10 13:12:49.804 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1232 - null 0
2024-06-10 13:12:49.811 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:12:49.815 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:12:49.842 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:12:49.858 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:12:49.863 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:12:49.871 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:12:49.879 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:12:49.882 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:12:49.885 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:12:49.893 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:12:49.896 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:12:49.900 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:12:49.909 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:12:49.914 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:12:49.916 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:12:49.921 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:12:49.925 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:12:49.928 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:12:49.930 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:12:49.932 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:12:49.938 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:12:49.941 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:12:49.943 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:12:49.946 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:12:49.948 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:12:49.953 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:12:49.956 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:12:49.959 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:12:49.961 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:12:49.965 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:12:49.968 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:12:49.974 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:12:49.977 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:12:49.981 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:12:49.984 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:12:49.989 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:12:49.991 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:12:50.106 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:12:50.111 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:12:50.119 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:12:50.123 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:12:50.127 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:12:50.128 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:12:50.138 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:12:50.140 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 13:12:50.142 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:50.148 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:50.153 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:12:50.155 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:12:50.158 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:12:50.160 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:12:50.226 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:12:50.236 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:12:50.239 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:12:50.242 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60],[WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:12:50.252 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:12:50.268 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:12:50.273 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Runtime.CompilerServices.AsyncTaskMethodBuilder%601%2BAsyncStateMachineBox%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D,WebApplication1.Serves.functions.FunctionPost%2B%3CAddBooking%3Ed__2%5D
2024-06-10 13:12:50.284 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 383.3329ms
2024-06-10 13:12:50.286 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:12:50.289 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected for property 'task' with type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking],WebApplication1.Serves.functions.FunctionPost+<AddBooking>d__2]'. Path 'stateMachine.<>t__builder'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:12:50.290 +03:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:12:50.343 +03:00 [DBG] Connection id "0HN496N2ABSJK" completed keep alive response.
2024-06-10 13:12:50.353 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:12:50.362 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:50.368 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-06-10 13:12:50.371 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1232 - 500 null text/plain; charset=utf-8 566.45ms
2024-06-10 13:12:50.373 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:12:50.377 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:12:50.379 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:12:50.386 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 32ms reading results.
2024-06-10 13:12:54.453 +03:00 [DBG] Connection id "0HN496N2ABSJK" received FIN.
2024-06-10 13:12:54.456 +03:00 [DBG] Connection id "0HN496N2ABSJK" disconnecting.
2024-06-10 13:12:54.458 +03:00 [DBG] Connection id "0HN496N2ABSJK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:12:54.463 +03:00 [DBG] Connection id "0HN496N2ABSJK" stopped.
2024-06-10 13:13:03.962 +03:00 [DBG] Connection id "0HN496N2ABSJL" accepted.
2024-06-10 13:13:03.966 +03:00 [DBG] Connection id "0HN496N2ABSJL" started.
2024-06-10 13:13:03.968 +03:00 [DBG] Connection id "0HN496N2ABSJM" accepted.
2024-06-10 13:13:03.972 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:13:03.974 +03:00 [DBG] Connection id "0HN496N2ABSJM" started.
2024-06-10 13:13:03.986 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:13:03.988 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:13:04.000 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:13:04.001 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:13:04.004 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:13:04.006 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:13:04.008 +03:00 [DBG] Connection id "0HN496N2ABSJL" completed keep alive response.
2024-06-10 13:13:04.011 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 39.2171ms
2024-06-10 13:13:04.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:13:04.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:13:04.091 +03:00 [DBG] Connection id "0HN496N2ABSJL" completed keep alive response.
2024-06-10 13:13:04.101 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.0594ms
2024-06-10 13:13:04.143 +03:00 [DBG] Connection id "0HN496N2ABSJM" completed keep alive response.
2024-06-10 13:13:04.150 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.9133ms
2024-06-10 13:13:04.464 +03:00 [DBG] Connection id "0HN496N2ABSJL" received FIN.
2024-06-10 13:13:04.465 +03:00 [DBG] Connection id "0HN496N2ABSJM" received FIN.
2024-06-10 13:13:04.467 +03:00 [DBG] Connection id "0HN496N2ABSJL" disconnecting.
2024-06-10 13:13:04.470 +03:00 [DBG] Connection id "0HN496N2ABSJM" disconnecting.
2024-06-10 13:13:04.482 +03:00 [DBG] Connection id "0HN496N2ABSJL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:04.484 +03:00 [DBG] Connection id "0HN496N2ABSJM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:04.500 +03:00 [DBG] Connection id "0HN496N2ABSJM" stopped.
2024-06-10 13:13:04.500 +03:00 [DBG] Connection id "0HN496N2ABSJL" stopped.
2024-06-10 13:13:05.480 +03:00 [DBG] Connection id "0HN496N2ABSJN" accepted.
2024-06-10 13:13:05.482 +03:00 [DBG] Connection id "0HN496N2ABSJN" started.
2024-06-10 13:13:05.485 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:13:05.488 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:13:05.489 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:13:05.550 +03:00 [DBG] Connection id "0HN496N2ABSJN" completed keep alive response.
2024-06-10 13:13:05.555 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.2491ms
2024-06-10 13:13:14.521 +03:00 [DBG] Connection id "0HN496N2ABSJN" received FIN.
2024-06-10 13:13:14.947 +03:00 [DBG] Connection id "0HN496N2ABSJN" disconnecting.
2024-06-10 13:13:14.949 +03:00 [DBG] Connection id "0HN496N2ABSJN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:14.955 +03:00 [DBG] Connection id "0HN496N2ABSJN" stopped.
2024-06-10 13:13:19.054 +03:00 [DBG] Connection id "0HN496N2ABSJO" accepted.
2024-06-10 13:13:19.060 +03:00 [DBG] Connection id "0HN496N2ABSJP" accepted.
2024-06-10 13:13:19.063 +03:00 [DBG] Connection id "0HN496N2ABSJO" started.
2024-06-10 13:13:19.066 +03:00 [DBG] Connection id "0HN496N2ABSJP" started.
2024-06-10 13:13:19.069 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:13:19.075 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:13:19.078 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:13:19.089 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:13:19.090 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:13:19.093 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:13:19.095 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:13:19.099 +03:00 [DBG] Connection id "0HN496N2ABSJP" completed keep alive response.
2024-06-10 13:13:19.102 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 32.3666ms
2024-06-10 13:13:19.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:13:19.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:13:19.170 +03:00 [DBG] Connection id "0HN496N2ABSJP" completed keep alive response.
2024-06-10 13:13:19.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.8892ms
2024-06-10 13:13:19.183 +03:00 [DBG] Connection id "0HN496N2ABSJO" completed keep alive response.
2024-06-10 13:13:19.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.0732ms
2024-06-10 13:13:19.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:13:19.347 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:13:19.350 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:13:19.415 +03:00 [DBG] Connection id "0HN496N2ABSJO" completed keep alive response.
2024-06-10 13:13:19.435 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.211ms
2024-06-10 13:13:24.509 +03:00 [DBG] Connection id "0HN496N2ABSJP" received FIN.
2024-06-10 13:13:24.509 +03:00 [DBG] Connection id "0HN496N2ABSJO" received FIN.
2024-06-10 13:13:24.511 +03:00 [DBG] Connection id "0HN496N2ABSJP" disconnecting.
2024-06-10 13:13:24.513 +03:00 [DBG] Connection id "0HN496N2ABSJO" disconnecting.
2024-06-10 13:13:24.514 +03:00 [DBG] Connection id "0HN496N2ABSJP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:24.516 +03:00 [DBG] Connection id "0HN496N2ABSJO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:24.524 +03:00 [DBG] Connection id "0HN496N2ABSJP" stopped.
2024-06-10 13:13:24.540 +03:00 [DBG] Connection id "0HN496N2ABSJO" stopped.
2024-06-10 13:13:41.272 +03:00 [DBG] Connection id "0HN496N2ABSJQ" accepted.
2024-06-10 13:13:41.285 +03:00 [DBG] Connection id "0HN496N2ABSJQ" started.
2024-06-10 13:13:41.289 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=2007%2F1%2F1&CheckOutAt=2007%2F1%2F1&price=123&EmployeeId=1 - null 0
2024-06-10 13:13:41.305 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:13:41.307 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:13:41.318 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:41.321 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:13:41.323 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:41.334 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:13:41.339 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:13:41.342 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:13:41.348 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:13:41.352 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:13:41.354 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:13:41.357 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:13:41.373 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:13:41.377 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:13:41.381 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:13:41.384 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:41.386 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:41.388 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:13:41.390 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:41.397 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:13:41.399 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:13:41.402 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:41.404 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:41.406 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:13:41.408 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:41.415 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:13:41.417 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:13:41.420 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:13:41.422 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:13:41.424 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:13:41.430 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:13:41.432 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:13:41.434 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:13:41.438 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:41.439 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:41.441 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:13:41.448 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:41.538 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:13:41.601 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:13:41.951 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-10 13:13:42.018 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:13:42.019 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:13:42.022 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.027 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.029 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:13:42.031 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:13:42.033 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:13:42.036 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:13:42.057 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:13:42.082 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:42.119 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.121 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 57ms reading results.
2024-06-10 13:13:42.127 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.133 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (6ms).
2024-06-10 13:13:42.141 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:42.166 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:42.193 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:42.199 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:13:42.200 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:13:42.215 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:13:42.220 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.222 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.225 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:13:42.228 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:13:42.230 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:13:42.233 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:13:42.239 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:13:42.257 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:13:42.268 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.270 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 22ms reading results.
2024-06-10 13:13:42.273 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.276 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:13:42.292 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:42.298 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:13:42.300 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:13:42.306 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:13:42.317 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:13:42.320 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:13:42.322 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 965.6188ms
2024-06-10 13:13:42.324 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:42.329 +03:00 [DBG] Connection id "0HN496N2ABSJQ" completed keep alive response.
2024-06-10 13:13:42.334 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:13:42.337 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:42.341 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-06-10 13:13:42.356 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=2007%2F1%2F1&CheckOutAt=2007%2F1%2F1&price=123&EmployeeId=1 - 406 0 null 1066.8467ms
2024-06-10 13:13:44.540 +03:00 [DBG] Connection id "0HN496N2ABSJQ" received FIN.
2024-06-10 13:13:44.563 +03:00 [DBG] Connection id "0HN496N2ABSJQ" disconnecting.
2024-06-10 13:13:44.565 +03:00 [DBG] Connection id "0HN496N2ABSJQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:44.576 +03:00 [DBG] Connection id "0HN496N2ABSJQ" stopped.
2024-06-10 13:13:46.660 +03:00 [DBG] Connection id "0HN496N2ABSJR" accepted.
2024-06-10 13:13:46.662 +03:00 [DBG] Connection id "0HN496N2ABSJR" started.
2024-06-10 13:13:46.663 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=2007%2F1%2F1&CheckOutAt=2007%2F1%2F1&price=123&EmployeeId=1 - null 0
2024-06-10 13:13:46.669 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:13:46.670 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:13:46.674 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:46.681 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:13:46.689 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:46.697 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:13:46.704 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:13:46.705 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:13:46.708 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:13:46.720 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:13:46.722 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:13:46.730 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:13:46.734 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:13:46.737 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:13:46.741 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:13:46.749 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:46.753 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:46.757 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:13:46.761 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:46.763 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:13:46.766 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:13:46.769 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:46.772 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:46.774 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:13:46.783 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:46.786 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:13:46.788 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:13:46.790 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:13:46.796 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:13:46.799 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:13:46.801 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:13:46.803 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:13:46.806 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:13:46.814 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:46.817 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:46.819 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:13:46.822 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:46.829 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:13:46.840 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:13:46.844 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:13:46.847 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.850 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.852 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:13:46.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:13:46.856 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:13:46.861 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:13:46.872 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:13:46.882 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:46.886 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.888 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:13:46.891 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.897 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (6ms).
2024-06-10 13:13:46.901 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:46.904 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:46.907 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:46.914 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:13:46.917 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:13:46.920 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:13:46.922 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.924 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.930 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:13:46.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:13:46.934 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:13:46.936 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:13:46.949 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:13:46.955 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:13:46.958 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.963 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-06-10 13:13:46.966 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:46.968 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:13:46.970 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:13:46.973 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:13:46.977 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:13:46.986 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:13:46.988 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:13:46.991 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Threading.Tasks.Task`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-06-10 13:13:46.999 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:13:47.004 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Threading.Tasks.Task%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D%5D
2024-06-10 13:13:47.008 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Threading.Tasks.Task%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D%5D
2024-06-10 13:13:47.051 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 321.0323ms
2024-06-10 13:13:47.053 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:47.056 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'result.value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:13:47.111 +03:00 [DBG] Connection id "0HN496N2ABSJR" completed keep alive response.
2024-06-10 13:13:47.112 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:13:47.115 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:47.117 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-10 13:13:47.119 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=2007%2F1%2F1&CheckOutAt=2007%2F1%2F1&price=123&EmployeeId=1 - 500 null text/plain; charset=utf-8 456.4765ms
2024-06-10 13:13:51.989 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=2007%2F1%2F1&CheckOutAt=2007%2F1%2F1&price=123&EmployeeId=121 - null 0
2024-06-10 13:13:51.997 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:13:51.998 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:13:52.001 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:52.006 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:13:52.018 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:52.021 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:13:52.030 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:13:52.033 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:13:52.035 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:13:52.039 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:13:52.047 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:13:52.050 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:13:52.053 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:13:52.056 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:13:52.061 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:13:52.066 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:52.069 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:52.072 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:13:52.074 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:13:52.082 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:13:52.084 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:13:52.088 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:52.089 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:52.096 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:13:52.099 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:13:52.101 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:13:52.104 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:13:52.106 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:13:52.113 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:13:52.116 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:13:52.118 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:13:52.121 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:13:52.123 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:13:52.131 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:52.134 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:52.136 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:13:52.138 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:13:52.145 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:13:52.150 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:13:52.152 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:13:52.153 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:52.155 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:52.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:13:52.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:13:52.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-06-10 13:13:52.171 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:13:52.186 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:13:52.190 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:52.196 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:13:52.199 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:52.202 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:13:52.204 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:13:52.214 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:13:52.218 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:13:52.221 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Threading.Tasks.Task`1[[Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], Microsoft.AspNetCore.Mvc.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2024-06-10 13:13:52.224 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:13:52.233 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Threading.Tasks.Task%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D%5D
2024-06-10 13:13:52.237 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Threading.Tasks.Task%601%5BMicrosoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D%5D
2024-06-10 13:13:52.256 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 205.6415ms
2024-06-10 13:13:52.261 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:13:52.264 +03:00 [DBG] Connection id "0HN496N2ABSJR" completed keep alive response.
2024-06-10 13:13:52.266 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:13:52.268 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:13:52.270 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 13:13:52.273 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=2007%2F1%2F1&CheckOutAt=2007%2F1%2F1&price=123&EmployeeId=121 - 201 177 text/json; charset=utf-8 283.2011ms
2024-06-10 13:13:54.543 +03:00 [DBG] Connection id "0HN496N2ABSJR" received FIN.
2024-06-10 13:13:54.545 +03:00 [DBG] Connection id "0HN496N2ABSJR" disconnecting.
2024-06-10 13:13:54.547 +03:00 [DBG] Connection id "0HN496N2ABSJR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:13:54.560 +03:00 [DBG] Connection id "0HN496N2ABSJR" stopped.
2024-06-10 13:14:16.336 +03:00 [DBG] Connection id "0HN496N2ABSJS" accepted.
2024-06-10 13:14:16.346 +03:00 [DBG] Connection id "0HN496N2ABSJS" started.
2024-06-10 13:14:16.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=7&pageSize=10 - null null
2024-06-10 13:14:16.377 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:14:16.379 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:14:16.382 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:16.383 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:14:16.385 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:16.397 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:14:16.402 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:14:16.404 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:14:16.410 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:14:16.415 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:14:16.417 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:14:16.420 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:14:16.427 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:14:16.430 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:14:16.431 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 13:14:16.434 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:16.436 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:16.438 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:14:16.444 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:16.446 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:14:16.448 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 13:14:16.451 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:16.453 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:16.455 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:14:16.461 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:16.474 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:14:16.486 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(x => x.IsActive == True)
    .Skip(__p_0)
    .Take(__p_1)'
2024-06-10 13:14:16.495 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 13:14:16.498 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 13:14:16.512 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Booking>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckOutAt (DateTime) Required, 1], [Property: Booking.CheckinAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.IsActive (bool) Required, 4], [Property: Booking.Price (double) Required, 5] }
        SELECT b.Id, b.CheckOutAt, b.CheckinAt, b.EmployeeId, b.IsActive, b.Price
        FROM bookings AS b
        WHERE b.IsActive == CAST(1 AS bit)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Booking entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Booking instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Booking);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Booking.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Booking)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]: 
                        {
                            return 
                            {
                                Booking instance;
                                instance = new Booking();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<CheckOutAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<CheckinAt>k__BackingField = dataReader.GetDateTime(2);
                                instance.<EmployeeId>k__BackingField = dataReader.GetInt32(3);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(4);
                                instance.<Price>k__BackingField = dataReader.GetDouble(5);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Booking | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Booking")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Booking)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2024-06-10 13:14:16.553 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:14:16.554 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:14:16.557 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:16.560 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:16.562 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:14:16.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:14:16.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:14:16.568 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:14:16.579 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:14:16.599 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:16.601 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 11ms reading results.
2024-06-10 13:14:16.605 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:16.610 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (4ms).
2024-06-10 13:14:16.635 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:14:16.643 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:14:16.646 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:14:16.648 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:14:16.651 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 231.0748ms
2024-06-10 13:14:16.654 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:16.658 +03:00 [DBG] Connection id "0HN496N2ABSJS" completed keep alive response.
2024-06-10 13:14:16.661 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:14:16.663 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:16.666 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 13:14:16.668 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=7&pageSize=10 - 406 0 null 321.0258ms
2024-06-10 13:14:21.866 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=7&pageSize=10 - null null
2024-06-10 13:14:21.934 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:14:21.936 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:14:21.944 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:21.948 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:14:21.953 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:21.961 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:14:21.967 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:14:21.969 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:14:21.977 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:14:21.984 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:14:21.996 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:14:22.000 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:14:22.003 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:14:22.012 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:14:22.014 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 13:14:22.017 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:22.020 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:22.027 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:14:22.031 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:22.033 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:14:22.035 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 13:14:22.038 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:22.048 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:22.053 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:14:22.061 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:22.065 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:14:22.071 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:14:22.078 +03:00 [DBG] Created DbConnection. (6ms).
2024-06-10 13:14:22.080 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:22.082 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:22.084 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:14:22.086 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:14:22.088 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:14:22.094 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:14:22.102 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:14:22.111 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:22.113 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-06-10 13:14:22.115 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:22.117 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:14:22.120 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:14:22.131 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:14:22.133 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:14:22.135 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:14:22.143 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 143.0654ms
2024-06-10 13:14:22.147 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:22.150 +03:00 [DBG] Connection id "0HN496N2ABSJS" completed keep alive response.
2024-06-10 13:14:22.152 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:14:22.154 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:22.160 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-06-10 13:14:22.162 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=7&pageSize=10 - 200 2 text/json; charset=utf-8 296.4465ms
2024-06-10 13:14:24.581 +03:00 [DBG] Connection id "0HN496N2ABSJS" received FIN.
2024-06-10 13:14:24.583 +03:00 [DBG] Connection id "0HN496N2ABSJS" disconnecting.
2024-06-10 13:14:24.586 +03:00 [DBG] Connection id "0HN496N2ABSJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:14:24.589 +03:00 [DBG] Connection id "0HN496N2ABSJS" stopped.
2024-06-10 13:14:26.648 +03:00 [DBG] Connection id "0HN496N2ABSJT" accepted.
2024-06-10 13:14:26.650 +03:00 [DBG] Connection id "0HN496N2ABSJT" started.
2024-06-10 13:14:26.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=4&pageSize=10 - null null
2024-06-10 13:14:26.658 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:14:26.667 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:14:26.679 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:26.682 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:14:26.684 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:26.685 +03:00 [INF] Route matched with {action = "GetBookingsync", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[WebApplication1.Models.VM.BookingSummary]]] GetBookingsync(Int32, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:14:26.696 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:14:26.701 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:14:26.711 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:14:26.716 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:14:26.719 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:14:26.728 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:14:26.732 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:14:26.735 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:14:26.737 +03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-06-10 13:14:26.744 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:26.747 +03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:26.750 +03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-06-10 13:14:26.752 +03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-06-10 13:14:26.754 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:14:26.761 +03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-06-10 13:14:26.765 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:26.767 +03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:26.769 +03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-06-10 13:14:26.775 +03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-06-10 13:14:26.779 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:14:26.783 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:14:26.785 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-10 13:14:26.786 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:26.794 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:26.797 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:14:26.798 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:14:26.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:14:26.802 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:14:26.817 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckOutAt], [b].[CheckinAt], [b].[EmployeeId], [b].[IsActive], [b].[Price]
FROM [bookings] AS [b]
WHERE [b].[IsActive] = CAST(1 AS bit)
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-06-10 13:14:26.827 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:14:26.831 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:14:26.834 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:26.835 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-06-10 13:14:26.838 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:26.844 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 13:14:26.848 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:14:26.853 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:14:26.855 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:14:26.861 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[WebApplication1.Models.VM.BookingSummary, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:14:26.869 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) in 140.8866ms
2024-06-10 13:14:26.877 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)'
2024-06-10 13:14:26.879 +03:00 [DBG] Connection id "0HN496N2ABSJT" completed keep alive response.
2024-06-10 13:14:26.881 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:14:26.882 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:14:26.884 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 13:14:26.887 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/api/Booking?pageNumber=4&pageSize=10 - 200 249 text/json; charset=utf-8 234.287ms
2024-06-10 13:14:34.587 +03:00 [DBG] Connection id "0HN496N2ABSJT" received FIN.
2024-06-10 13:14:34.592 +03:00 [DBG] Connection id "0HN496N2ABSJT" disconnecting.
2024-06-10 13:14:34.599 +03:00 [DBG] Connection id "0HN496N2ABSJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:14:34.612 +03:00 [DBG] Connection id "0HN496N2ABSJT" stopped.
2024-06-10 13:16:14.947 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:16:15.206 +03:00 [DBG] Hosting starting
2024-06-10 13:16:15.669 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:16:15.670 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:16:15.672 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:16:15.673 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:16:15.675 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:16:15.676 +03:00 [INF] Hosting environment: Development
2024-06-10 13:16:15.678 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:16:15.679 +03:00 [DBG] Hosting started
2024-06-10 13:16:16.094 +03:00 [DBG] Connection id "0HN496PEFL8UQ" received FIN.
2024-06-10 13:16:16.094 +03:00 [DBG] Connection id "0HN496PEFL8UR" received FIN.
2024-06-10 13:16:16.159 +03:00 [DBG] Connection id "0HN496PEFL8UQ" accepted.
2024-06-10 13:16:16.159 +03:00 [DBG] Connection id "0HN496PEFL8UR" accepted.
2024-06-10 13:16:16.162 +03:00 [DBG] Connection id "0HN496PEFL8UQ" started.
2024-06-10 13:16:16.163 +03:00 [DBG] Connection id "0HN496PEFL8UR" started.
2024-06-10 13:16:16.176 +03:00 [DBG] Connection id "0HN496PEFL8UQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:16:16.176 +03:00 [DBG] Connection id "0HN496PEFL8UR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:16:16.181 +03:00 [DBG] Connection id "0HN496PEFL8UQ" disconnecting.
2024-06-10 13:16:16.188 +03:00 [DBG] Connection id "0HN496PEFL8UR" disconnecting.
2024-06-10 13:16:16.199 +03:00 [DBG] Connection id "0HN496PEFL8UQ" stopped.
2024-06-10 13:16:16.204 +03:00 [DBG] Connection id "0HN496PEFL8UR" stopped.
2024-06-10 13:16:16.572 +03:00 [DBG] Connection id "0HN496PEFL8US" accepted.
2024-06-10 13:16:16.675 +03:00 [DBG] Connection id "0HN496PEFL8UT" accepted.
2024-06-10 13:16:16.683 +03:00 [DBG] Connection id "0HN496PEFL8US" started.
2024-06-10 13:16:16.741 +03:00 [DBG] Connection id "0HN496PEFL8UT" started.
2024-06-10 13:16:16.789 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:16:17.053 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:16:17.089 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:16:17.091 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:16:17.329 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:16:17.336 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:16:17.365 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:16:17.371 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:16:17.374 +03:00 [DBG] Connection id "0HN496PEFL8UT" completed keep alive response.
2024-06-10 13:16:17.394 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 615.6927ms
2024-06-10 13:16:17.462 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:16:17.462 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:16:17.501 +03:00 [DBG] Connection id "0HN496PEFL8UT" completed keep alive response.
2024-06-10 13:16:17.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 45.4369ms
2024-06-10 13:16:17.623 +03:00 [DBG] Connection id "0HN496PEFL8US" completed keep alive response.
2024-06-10 13:16:17.627 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 165.4135ms
2024-06-10 13:16:17.804 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:16:17.928 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:16:17.936 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:16:18.396 +03:00 [DBG] Connection id "0HN496PEFL8US" completed keep alive response.
2024-06-10 13:16:18.404 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 600.0043ms
2024-06-10 13:16:19.272 +03:00 [DBG] Connection id "0HN496PEFL8UT" received FIN.
2024-06-10 13:16:19.274 +03:00 [DBG] Connection id "0HN496PEFL8US" received FIN.
2024-06-10 13:16:19.307 +03:00 [DBG] Connection id "0HN496PEFL8UT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:16:19.308 +03:00 [DBG] Connection id "0HN496PEFL8US" disconnecting.
2024-06-10 13:16:19.311 +03:00 [DBG] Connection id "0HN496PEFL8UT" disconnecting.
2024-06-10 13:16:19.314 +03:00 [DBG] Connection id "0HN496PEFL8US" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:16:19.323 +03:00 [DBG] Connection id "0HN496PEFL8UT" stopped.
2024-06-10 13:16:19.342 +03:00 [DBG] Connection id "0HN496PEFL8US" stopped.
2024-06-10 13:16:30.292 +03:00 [DBG] Connection id "0HN496PEFL8UU" accepted.
2024-06-10 13:16:30.297 +03:00 [DBG] Connection id "0HN496PEFL8UU" started.
2024-06-10 13:16:30.312 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:16:30.332 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:16:30.342 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:16:30.345 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:30.357 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:16:30.360 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:16:30.373 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:30.428 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:16:30.437 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:16:30.439 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:16:30.442 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:16:30.445 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:16:30.453 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:16:30.457 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:16:30.688 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:16:30.891 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:16:30.908 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:16:30.912 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:16:30.922 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:30.924 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:30.927 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:16:30.933 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:30.939 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:16:30.943 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:16:30.951 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:30.955 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:30.957 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:16:30.960 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:30.963 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:16:30.968 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:16:30.971 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:16:30.973 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:16:30.975 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:16:30.977 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:16:30.982 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:16:30.985 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:16:30.989 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:30.990 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:30.993 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:16:30.995 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:32.180 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:16:32.305 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:16:32.731 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-10 13:16:32.827 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:16:32.873 +03:00 [DBG] Created DbConnection. (44ms).
2024-06-10 13:16:32.878 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:33.371 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:33.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:16:33.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-06-10 13:16:33.407 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-06-10 13:16:33.425 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:16:33.500 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:16:33.575 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:33.688 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:33.707 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 194ms reading results.
2024-06-10 13:16:33.716 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:33.733 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (14ms).
2024-06-10 13:16:33.782 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:33.823 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:33.852 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:33.858 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:16:33.865 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:16:33.913 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:16:34.035 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:34.038 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:34.041 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:16:34.042 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:16:34.045 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:16:34.048 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:16:34.058 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:16:34.077 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:16:34.090 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:34.092 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 25ms reading results.
2024-06-10 13:16:34.097 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:34.098 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:16:34.114 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:34.119 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:16:34.129 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:16:34.137 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:16:34.153 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:16:34.157 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:16:34.166 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 3703.1135ms
2024-06-10 13:16:34.168 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:34.170 +03:00 [DBG] Connection id "0HN496PEFL8UU" completed keep alive response.
2024-06-10 13:16:34.177 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:16:34.190 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:34.256 +03:00 [DBG] Disposed connection to database '' on server '' (65ms).
2024-06-10 13:16:34.259 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 406 0 null 3947.7776ms
2024-06-10 13:16:37.803 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:16:37.815 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:16:37.819 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:16:37.825 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:37.827 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:16:37.828 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:37.836 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:16:37.842 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:16:37.844 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:16:37.852 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:16:37.857 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:16:37.860 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:16:37.869 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:16:37.876 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:16:37.883 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:16:37.885 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:16:37.889 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:37.891 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:37.894 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:16:37.901 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:37.904 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:16:37.907 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:16:37.911 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:37.921 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:37.924 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:16:37.926 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:37.934 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:16:37.937 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:16:37.940 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:16:37.942 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:16:37.944 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:16:37.952 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:16:37.954 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:16:37.957 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:16:37.960 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:37.968 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:37.971 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:16:37.973 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:38.010 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:16:38.033 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:16:38.037 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:16:38.039 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.041 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.043 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:16:38.050 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-06-10 13:16:38.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-06-10 13:16:38.054 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:16:38.075 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:16:38.083 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:38.087 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.089 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:16:38.092 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.094 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:16:38.101 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:38.104 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:38.107 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:38.109 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:16:38.111 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:16:38.116 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:16:38.120 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.121 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.123 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:16:38.125 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:16:38.127 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:16:38.133 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:16:38.140 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:16:38.144 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:16:38.151 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.153 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-06-10 13:16:38.155 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.157 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:16:38.160 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:38.166 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:16:38.170 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:16:38.175 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:16:38.179 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:16:38.184 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Threading.Tasks.Task`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:16:38.219 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Threading.Tasks.Task`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:16:38.234 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Threading.Tasks.Task%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:16:38.244 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Threading.Tasks.Task%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:16:38.413 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 544.4595ms
2024-06-10 13:16:38.416 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:38.420 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'result.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:16:38.523 +03:00 [DBG] Connection id "0HN496PEFL8UU" completed keep alive response.
2024-06-10 13:16:38.525 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:16:38.527 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:38.532 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-06-10 13:16:38.535 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 732.1214ms
2024-06-10 13:16:39.281 +03:00 [DBG] Connection id "0HN496PEFL8UU" received FIN.
2024-06-10 13:16:39.284 +03:00 [DBG] Connection id "0HN496PEFL8UU" disconnecting.
2024-06-10 13:16:39.286 +03:00 [DBG] Connection id "0HN496PEFL8UU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:16:39.297 +03:00 [DBG] Connection id "0HN496PEFL8UU" stopped.
2024-06-10 13:16:44.249 +03:00 [DBG] Connection id "0HN496PEFL8UV" accepted.
2024-06-10 13:16:44.252 +03:00 [DBG] Connection id "0HN496PEFL8UV" started.
2024-06-10 13:16:44.254 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=2 - null 0
2024-06-10 13:16:44.258 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:16:44.260 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:16:44.269 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:44.271 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:16:44.273 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:44.276 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:16:44.286 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:16:44.288 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:16:44.291 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:16:44.299 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:16:44.302 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:16:44.305 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:16:44.321 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:16:44.324 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:16:44.327 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:16:44.333 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:44.337 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:44.339 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:16:44.341 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:16:44.344 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:16:44.351 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:16:44.355 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:44.357 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:44.359 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:16:44.367 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:16:44.369 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:16:44.390 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:16:44.399 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:16:44.404 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:16:44.406 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:16:44.408 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:16:44.411 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:16:44.419 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:16:44.423 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:44.425 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:44.428 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:16:44.436 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:16:44.575 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:16:44.584 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:16:44.586 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 13:16:44.588 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.590 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.592 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:16:44.594 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:16:44.600 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-06-10 13:16:44.602 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:16:44.609 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:16:44.618 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:44.621 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.623 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-06-10 13:16:44.626 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.631 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 13:16:44.634 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:44.637 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:44.639 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:44.642 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:16:44.644 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:16:44.650 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:16:44.652 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.654 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:16:44.659 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:16:44.662 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:16:44.667 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:16:44.871 +03:00 [INF] Executed DbCommand (204ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:16:44.884 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:16:44.887 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.892 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 7ms reading results.
2024-06-10 13:16:44.897 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:44.899 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:16:44.901 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:16:44.907 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:16:44.910 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:16:44.916 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:16:44.918 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:16:44.924 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Threading.Tasks.Task`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:16:44.929 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[System.Threading.Tasks.Task`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:16:44.933 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=System.Threading.Tasks.Task%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:16:44.938 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=System.Threading.Tasks.Task%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:16:44.947 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 641.4354ms
2024-06-10 13:16:44.949 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:16:44.951 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'result.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:16:45.010 +03:00 [DBG] Connection id "0HN496PEFL8UV" completed keep alive response.
2024-06-10 13:16:45.013 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:16:45.016 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:16:45.019 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 13:16:45.022 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=2 - 500 null text/plain; charset=utf-8 767.555ms
2024-06-10 13:16:49.296 +03:00 [DBG] Connection id "0HN496PEFL8UV" received FIN.
2024-06-10 13:16:49.300 +03:00 [DBG] Connection id "0HN496PEFL8UV" disconnecting.
2024-06-10 13:16:49.302 +03:00 [DBG] Connection id "0HN496PEFL8UV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:16:49.312 +03:00 [DBG] Connection id "0HN496PEFL8UV" stopped.
2024-06-10 13:18:39.866 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:18:40.147 +03:00 [DBG] Hosting starting
2024-06-10 13:18:40.414 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:18:40.416 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:18:40.417 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:18:40.418 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:18:40.420 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:18:40.422 +03:00 [INF] Hosting environment: Development
2024-06-10 13:18:40.424 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:18:40.425 +03:00 [DBG] Hosting started
2024-06-10 13:18:40.574 +03:00 [DBG] Connection id "0HN496QPHGMLI" received FIN.
2024-06-10 13:18:40.574 +03:00 [DBG] Connection id "0HN496QPHGMLI" accepted.
2024-06-10 13:18:40.574 +03:00 [DBG] Connection id "0HN496QPHGMLJ" accepted.
2024-06-10 13:18:40.574 +03:00 [DBG] Connection id "0HN496QPHGMLJ" received FIN.
2024-06-10 13:18:40.581 +03:00 [DBG] Connection id "0HN496QPHGMLJ" started.
2024-06-10 13:18:40.581 +03:00 [DBG] Connection id "0HN496QPHGMLI" started.
2024-06-10 13:18:40.594 +03:00 [DBG] Connection id "0HN496QPHGMLJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:18:40.594 +03:00 [DBG] Connection id "0HN496QPHGMLI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:18:40.599 +03:00 [DBG] Connection id "0HN496QPHGMLJ" disconnecting.
2024-06-10 13:18:40.601 +03:00 [DBG] Connection id "0HN496QPHGMLI" disconnecting.
2024-06-10 13:18:40.607 +03:00 [DBG] Connection id "0HN496QPHGMLJ" stopped.
2024-06-10 13:18:40.607 +03:00 [DBG] Connection id "0HN496QPHGMLI" stopped.
2024-06-10 13:18:40.972 +03:00 [DBG] Connection id "0HN496QPHGMLK" accepted.
2024-06-10 13:18:41.055 +03:00 [DBG] Connection id "0HN496QPHGMLL" accepted.
2024-06-10 13:18:41.062 +03:00 [DBG] Connection id "0HN496QPHGMLK" started.
2024-06-10 13:18:41.068 +03:00 [DBG] Connection id "0HN496QPHGMLL" started.
2024-06-10 13:18:41.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:18:41.444 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:18:41.484 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:18:41.490 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:18:41.733 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:18:41.738 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:18:41.760 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:18:41.762 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:18:41.766 +03:00 [DBG] Connection id "0HN496QPHGMLL" completed keep alive response.
2024-06-10 13:18:41.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 645.9531ms
2024-06-10 13:18:43.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:18:43.764 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:18:43.851 +03:00 [DBG] Connection id "0HN496QPHGMLL" completed keep alive response.
2024-06-10 13:18:43.881 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 123.6627ms
2024-06-10 13:18:43.957 +03:00 [DBG] Connection id "0HN496QPHGMLK" completed keep alive response.
2024-06-10 13:18:43.968 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 203.2936ms
2024-06-10 13:18:44.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:18:44.081 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:18:44.084 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:18:44.534 +03:00 [DBG] Connection id "0HN496QPHGMLK" completed keep alive response.
2024-06-10 13:18:44.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 472.6037ms
2024-06-10 13:18:45.191 +03:00 [DBG] Connection id "0HN496QPHGMLL" received FIN.
2024-06-10 13:18:45.191 +03:00 [DBG] Connection id "0HN496QPHGMLK" received FIN.
2024-06-10 13:18:45.196 +03:00 [DBG] Connection id "0HN496QPHGMLK" disconnecting.
2024-06-10 13:18:45.195 +03:00 [DBG] Connection id "0HN496QPHGMLL" disconnecting.
2024-06-10 13:18:45.198 +03:00 [DBG] Connection id "0HN496QPHGMLK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:18:45.200 +03:00 [DBG] Connection id "0HN496QPHGMLL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:18:45.213 +03:00 [DBG] Connection id "0HN496QPHGMLK" stopped.
2024-06-10 13:18:45.220 +03:00 [DBG] Connection id "0HN496QPHGMLL" stopped.
2024-06-10 13:18:53.684 +03:00 [DBG] Connection id "0HN496QPHGMLM" accepted.
2024-06-10 13:18:53.696 +03:00 [DBG] Connection id "0HN496QPHGMLM" started.
2024-06-10 13:18:53.698 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:18:53.713 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:18:53.725 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:18:53.729 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:18:53.737 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:18:53.743 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:18:53.751 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:18:53.832 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:18:53.849 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:18:53.854 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:18:53.861 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:18:53.871 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:18:53.879 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:18:53.886 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:18:54.130 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:18:54.564 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:18:54.590 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:18:54.597 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:18:54.607 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:18:54.610 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:18:54.615 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:18:54.625 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:18:54.630 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:18:54.633 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:18:54.643 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:18:54.647 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:18:54.650 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:18:54.660 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:18:54.663 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:18:54.666 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:18:54.676 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:18:54.688 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:18:54.693 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:18:54.696 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:18:54.699 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:18:54.701 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:18:54.709 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:18:54.712 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:18:54.715 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:18:54.717 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:18:56.615 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:18:56.719 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:18:57.247 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-10 13:18:57.459 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:18:57.520 +03:00 [DBG] Created DbConnection. (57ms).
2024-06-10 13:18:57.526 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.061 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.071 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:18:58.082 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-06-10 13:18:58.110 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (43ms).
2024-06-10 13:18:58.140 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:18:58.258 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:18:58.324 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:18:58.397 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.416 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 143ms reading results.
2024-06-10 13:18:58.424 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.438 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (10ms).
2024-06-10 13:18:58.478 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:18:58.533 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:18:58.560 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:18:58.567 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:18:58.576 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:18:58.627 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:18:58.765 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.770 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.775 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:18:58.776 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:18:58.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:18:58.782 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:18:58.802 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:18:58.827 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:18:58.842 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.844 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 34ms reading results.
2024-06-10 13:18:58.848 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:58.850 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:18:58.873 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:18:58.880 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:18:58.890 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:18:58.904 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:18:58.930 +03:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
System.Runtime.Serialization.InvalidDataContractException: Type 'Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-06-10 13:18:58.976 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:18:58.979 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:18:58.989 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 5099.6139ms
2024-06-10 13:18:58.991 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:18:58.992 +03:00 [DBG] Connection id "0HN496QPHGMLM" completed keep alive response.
2024-06-10 13:18:58.999 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:18:59.009 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:18:59.009 +03:00 [DBG] Connection id "0HN496QPHGMLM" received FIN.
2024-06-10 13:18:59.017 +03:00 [DBG] Connection id "0HN496QPHGMLM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:18:59.023 +03:00 [DBG] Connection id "0HN496QPHGMLM" disconnecting.
2024-06-10 13:18:59.015 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-06-10 13:18:59.030 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 406 0 null 5331.9039ms
2024-06-10 13:18:59.192 +03:00 [DBG] Connection id "0HN496QPHGMLM" stopped.
2024-06-10 13:19:03.320 +03:00 [DBG] Connection id "0HN496QPHGMLN" accepted.
2024-06-10 13:19:03.343 +03:00 [DBG] Connection id "0HN496QPHGMLN" started.
2024-06-10 13:19:03.375 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:19:03.382 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:19:03.384 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:19:03.392 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:19:03.394 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:19:03.396 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:19:03.398 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:19:03.407 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:19:03.410 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:19:03.413 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:19:03.416 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:19:03.424 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:19:03.428 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:19:03.433 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:19:03.441 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:19:03.443 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:19:03.446 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:19:03.448 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:19:03.450 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:19:03.457 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:19:03.459 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:19:03.461 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:19:03.464 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:19:03.466 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:19:03.474 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:19:03.476 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:19:03.645 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:19:03.647 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:19:03.649 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:19:03.654 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:19:03.656 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:19:03.658 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:19:03.660 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:19:03.662 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:19:03.664 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:19:03.666 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:19:03.672 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:19:03.674 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:19:03.705 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:19:03.714 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:19:03.716 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-10 13:19:03.721 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.723 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.725 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:19:03.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:19:03.729 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:19:03.732 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:19:03.744 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:19:03.750 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:19:03.756 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.760 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 10ms reading results.
2024-06-10 13:19:03.763 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.765 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:19:03.772 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:19:03.776 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:19:03.778 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:19:03.780 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:19:03.782 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:19:03.785 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:19:03.791 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.792 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:19:03.796 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:19:03.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-10 13:19:03.800 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:19:03.812 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:19:03.817 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:19:03.824 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.826 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 9ms reading results.
2024-06-10 13:19:03.829 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:03.831 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-06-10 13:19:03.833 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:19:03.839 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:19:03.844 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:19:03.849 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:19:03.856 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:19:03.859 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[WebApplication1.Models.Booking, WebApplication1, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-10 13:19:03.893 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:19:03.908 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:19:03.913 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=Microsoft.AspNetCore.Mvc.ActionResult%601%5BWebApplication1.Models.Booking%5D
2024-06-10 13:19:04.104 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 676.6867ms
2024-06-10 13:19:04.109 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:19:04.114 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'value.employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:19:04.193 +03:00 [DBG] Connection id "0HN496QPHGMLN" completed keep alive response.
2024-06-10 13:19:04.264 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:19:04.286 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:19:04.299 +03:00 [DBG] Disposed connection to database '' on server '' (12ms).
2024-06-10 13:19:04.489 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 1114.0012ms
2024-06-10 13:19:05.207 +03:00 [DBG] Connection id "0HN496QPHGMLN" received FIN.
2024-06-10 13:19:05.210 +03:00 [DBG] Connection id "0HN496QPHGMLN" disconnecting.
2024-06-10 13:19:05.213 +03:00 [DBG] Connection id "0HN496QPHGMLN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:19:05.216 +03:00 [DBG] Connection id "0HN496QPHGMLN" stopped.
2024-06-10 13:20:31.656 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-10 13:20:31.914 +03:00 [DBG] Hosting starting
2024-06-10 13:20:32.151 +03:00 [DBG] Connection id "0HN496RQPJHM0" received FIN.
2024-06-10 13:20:32.198 +03:00 [DBG] Connection id "0HN496RQPJHM0" accepted.
2024-06-10 13:20:32.207 +03:00 [INF] Now listening on: http://localhost:5228
2024-06-10 13:20:32.350 +03:00 [DBG] Connection id "0HN496RQPJHM0" started.
2024-06-10 13:20:32.350 +03:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-06-10 13:20:32.352 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-10 13:20:32.353 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-10 13:20:32.354 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-10 13:20:32.356 +03:00 [INF] Hosting environment: Development
2024-06-10 13:20:32.357 +03:00 [INF] Content root path: C:\Users\NOUR-ALSHAM\source\MedadApi Projects\WebApplication1\WebApplication1
2024-06-10 13:20:32.358 +03:00 [DBG] Hosting started
2024-06-10 13:20:32.360 +03:00 [DBG] Connection id "0HN496RQPJHM0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:20:32.367 +03:00 [DBG] Connection id "0HN496RQPJHM0" disconnecting.
2024-06-10 13:20:32.375 +03:00 [DBG] Connection id "0HN496RQPJHM0" stopped.
2024-06-10 13:20:32.589 +03:00 [DBG] Connection id "0HN496RQPJHM1" accepted.
2024-06-10 13:20:32.637 +03:00 [DBG] Connection id "0HN496RQPJHM2" accepted.
2024-06-10 13:20:32.640 +03:00 [DBG] Connection id "0HN496RQPJHM1" started.
2024-06-10 13:20:32.643 +03:00 [DBG] Connection id "0HN496RQPJHM2" started.
2024-06-10 13:20:32.722 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/index.html - null null
2024-06-10 13:20:32.989 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-10 13:20:33.034 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-10 13:20:33.038 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:20:33.273 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-10 13:20:33.280 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-10 13:20:33.302 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-10 13:20:33.306 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-10 13:20:33.309 +03:00 [DBG] Connection id "0HN496RQPJHM2" completed keep alive response.
2024-06-10 13:20:33.316 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/index.html - 200 null text/html;charset=utf-8 601.9789ms
2024-06-10 13:20:36.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - null null
2024-06-10 13:20:36.180 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/_vs/browserLink - null null
2024-06-10 13:20:36.200 +03:00 [DBG] Connection id "0HN496RQPJHM2" completed keep alive response.
2024-06-10 13:20:36.232 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 57.28ms
2024-06-10 13:20:36.285 +03:00 [DBG] Connection id "0HN496RQPJHM1" completed keep alive response.
2024-06-10 13:20:36.290 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.375ms
2024-06-10 13:20:36.419 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - null null
2024-06-10 13:20:36.423 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-10 13:20:36.425 +03:00 [DBG] Request did not match any endpoints
2024-06-10 13:20:36.748 +03:00 [DBG] Connection id "0HN496RQPJHM2" received FIN.
2024-06-10 13:20:36.752 +03:00 [DBG] Connection id "0HN496RQPJHM2" disconnecting.
2024-06-10 13:20:36.754 +03:00 [DBG] Connection id "0HN496RQPJHM2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:20:36.765 +03:00 [DBG] Connection id "0HN496RQPJHM2" stopped.
2024-06-10 13:20:36.896 +03:00 [DBG] Connection id "0HN496RQPJHM1" completed keep alive response.
2024-06-10 13:20:36.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5228/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 485.3575ms
2024-06-10 13:20:45.831 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:20:45.857 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:20:45.871 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:20:45.880 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:20:45.889 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:20:45.892 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-10 13:20:45.902 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:20:45.986 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:20:46.004 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:20:46.007 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:20:46.013 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:20:46.056 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:20:46.086 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:20:46.100 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:20:46.367 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-10 13:20:46.725 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:20:46.750 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:20:46.756 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:20:46.767 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:20:46.770 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:20:46.773 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:20:46.783 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:20:46.788 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:20:46.790 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:20:46.792 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:20:46.799 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:20:46.802 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:20:46.805 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:20:46.807 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:20:46.815 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:20:46.821 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:20:46.823 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:20:46.831 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:20:46.836 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:20:46.839 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:20:46.847 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:20:46.872 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:20:46.875 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:20:46.881 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:20:46.884 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:20:48.483 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:20:48.614 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(x => x.Id == __EmployeeId_0 && x.IsActive == True)'
2024-06-10 13:20:49.084 +03:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Employee>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandCache: [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (DateTime) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HottelId (int) Required FK Index, 4], [Property: Employee.IsActive (bool) Required, 5], [Property: Employee.LastName (string) Required, 6], [Property: Employee.StartedDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HottelId, e.IsActive, e.LastName, e.StartedDate, e.Title
        FROM employees AS e
        WHERE (e.Id == @__EmployeeId_0) && (e.IsActive == CAST(1 AS bit))) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        <>c__DisplayClass17_0.queryExpression, 
        RelationalShapedQueryCompilingExpressionVisitor._useRelationalNulls
    )], 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Employee entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Employee instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Employee);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Employee.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Employee)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]: 
                        {
                            return 
                            {
                                Employee instance;
                                instance = new Employee();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DOB>k__BackingField = dataReader.GetDateTime(1);
                                instance.<Email>k__BackingField = dataReader.GetString(2);
                                instance.<FirstName>k__BackingField = dataReader.GetString(3);
                                instance.<HottelId>k__BackingField = dataReader.GetInt32(4);
                                instance.<IsActive>k__BackingField = dataReader.GetBoolean(5);
                                instance.<LastName>k__BackingField = dataReader.GetString(6);
                                instance.<StartedDate>k__BackingField = dataReader.GetDateTime(7);
                                instance.<Title>k__BackingField = dataReader.GetString(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Employee | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("WebApplication1.Models.Employee")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Employee)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: WebApplication1.Data.AdminContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .SingleOrDefault()'
2024-06-10 13:20:49.197 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:20:49.246 +03:00 [DBG] Created DbConnection. (45ms).
2024-06-10 13:20:49.266 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:49.788 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:49.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:20:49.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-06-10 13:20:49.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (190ms).
2024-06-10 13:20:50.007 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:20:50.167 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:20:50.225 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:50.298 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:50.387 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 205ms reading results.
2024-06-10 13:20:50.399 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:50.418 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (18ms).
2024-06-10 13:20:50.481 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:50.553 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:50.587 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:50.597 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:20:50.604 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:20:50.656 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:20:50.816 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:50.820 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:50.825 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:20:50.832 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-06-10 13:20:50.836 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-06-10 13:20:50.839 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:20:50.873 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:20:50.896 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:20:50.908 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:50.911 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 30ms reading results.
2024-06-10 13:20:50.914 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:50.918 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (3ms).
2024-06-10 13:20:50.937 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:50.942 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:20:50.949 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:20:50.957 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-06-10 13:20:50.965 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-06-10 13:20:50.970 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-06-10 13:20:50.981 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 4876.8849ms
2024-06-10 13:20:50.983 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:20:50.985 +03:00 [DBG] Connection id "0HN496RQPJHM1" completed keep alive response.
2024-06-10 13:20:50.988 +03:00 [DBG] Connection id "0HN496RQPJHM1" received FIN.
2024-06-10 13:20:50.992 +03:00 [DBG] Connection id "0HN496RQPJHM1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:20:50.999 +03:00 [DBG] Connection id "0HN496RQPJHM1" disconnecting.
2024-06-10 13:20:51.002 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:20:51.014 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:51.022 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-06-10 13:20:51.028 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 406 0 null 5196.5995ms
2024-06-10 13:20:51.069 +03:00 [DBG] Connection id "0HN496RQPJHM1" stopped.
2024-06-10 13:20:53.061 +03:00 [DBG] Connection id "0HN496RQPJHM3" accepted.
2024-06-10 13:20:53.077 +03:00 [DBG] Connection id "0HN496RQPJHM3" started.
2024-06-10 13:20:53.086 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - null 0
2024-06-10 13:20:53.092 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Booking'
2024-06-10 13:20:53.095 +03:00 [DBG] Endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)' with route pattern 'api/Booking' is valid for the request path '/api/Booking'
2024-06-10 13:20:53.101 +03:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:20:53.103 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-10 13:20:53.105 +03:00 [INF] Executing endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:20:53.107 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[WebApplication1.Models.Booking]] AddBooking(System.DateTime, System.DateTime, Double, Int32) on controller WebApplication1.Controllers.BookingController (WebApplication1).
2024-06-10 13:20:53.116 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-10 13:20:53.118 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-10 13:20:53.120 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-10 13:20:53.124 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-10 13:20:53.130 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-10 13:20:53.133 +03:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:20:53.138 +03:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BookingController (WebApplication1)
2024-06-10 13:20:53.142 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:20:53.147 +03:00 [DBG] Attempting to bind parameter 'CheckinAt' of type 'System.DateTime' using the name 'CheckinAt' in request data ...
2024-06-10 13:20:53.150 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:20:53.152 +03:00 [DBG] Done attempting to bind parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:20:53.154 +03:00 [DBG] Attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime' ...
2024-06-10 13:20:53.156 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckinAt' of type 'System.DateTime'.
2024-06-10 13:20:53.158 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:20:53.164 +03:00 [DBG] Attempting to bind parameter 'CheckOutAt' of type 'System.DateTime' using the name 'CheckOutAt' in request data ...
2024-06-10 13:20:53.168 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:20:53.171 +03:00 [DBG] Done attempting to bind parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:20:53.174 +03:00 [DBG] Attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime' ...
2024-06-10 13:20:53.183 +03:00 [DBG] Done attempting to validate the bound parameter 'CheckOutAt' of type 'System.DateTime'.
2024-06-10 13:20:53.186 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' ...
2024-06-10 13:20:53.189 +03:00 [DBG] Attempting to bind parameter 'price' of type 'System.Double' using the name 'price' in request data ...
2024-06-10 13:20:53.196 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:20:53.199 +03:00 [DBG] Done attempting to bind parameter 'price' of type 'System.Double'.
2024-06-10 13:20:53.201 +03:00 [DBG] Attempting to validate the bound parameter 'price' of type 'System.Double' ...
2024-06-10 13:20:53.204 +03:00 [DBG] Done attempting to validate the bound parameter 'price' of type 'System.Double'.
2024-06-10 13:20:53.206 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:20:53.208 +03:00 [DBG] Attempting to bind parameter 'EmployeeId' of type 'System.Int32' using the name 'EmployeeId' in request data ...
2024-06-10 13:20:53.217 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:20:53.221 +03:00 [DBG] Done attempting to bind parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:20:53.224 +03:00 [DBG] Attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32' ...
2024-06-10 13:20:53.231 +03:00 [DBG] Done attempting to validate the bound parameter 'EmployeeId' of type 'System.Int32'.
2024-06-10 13:20:53.265 +03:00 [DBG] Entity Framework Core 9.0.0-preview.4.24267.1 initialized 'AdminContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.4.24267.1' with options: None
2024-06-10 13:20:53.285 +03:00 [DBG] Creating DbConnection.
2024-06-10 13:20:53.289 +03:00 [DBG] Created DbConnection. (3ms).
2024-06-10 13:20:53.306 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.317 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:20:53.321 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-10 13:20:53.325 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-10 13:20:53.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:20:53.343 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__EmployeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HottelId], [e].[IsActive], [e].[LastName], [e].[StartedDate], [e].[Title]
FROM [employees] AS [e]
WHERE [e].[Id] = @__EmployeeId_0 AND [e].[IsActive] = CAST(1 AS bit)
2024-06-10 13:20:53.352 +03:00 [DBG] Context 'AdminContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:53.356 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.357 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:20:53.361 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.367 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (5ms).
2024-06-10 13:20:53.372 +03:00 [DBG] 'AdminContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:53.375 +03:00 [DBG] The navigation 'Booking.Employee' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:53.379 +03:00 [DBG] Context 'AdminContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:53.385 +03:00 [DBG] SaveChanges starting for 'AdminContext'.
2024-06-10 13:20:53.388 +03:00 [DBG] DetectChanges starting for 'AdminContext'.
2024-06-10 13:20:53.390 +03:00 [DBG] DetectChanges completed for 'AdminContext'.
2024-06-10 13:20:53.395 +03:00 [DBG] Opening connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.400 +03:00 [DBG] Opened connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.402 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-10 13:20:53.404 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-10 13:20:53.406 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-10 13:20:53.408 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:20:53.424 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [bookings] ([CheckOutAt], [CheckinAt], [EmployeeId], [IsActive], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 13:20:53.433 +03:00 [DBG] The foreign key property 'Booking.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-10 13:20:53.437 +03:00 [DBG] Closing data reader to 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.439 +03:00 [DBG] A data reader for 'Api_database' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-06-10 13:20:53.443 +03:00 [DBG] Closing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.445 +03:00 [DBG] Closed connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-06-10 13:20:53.454 +03:00 [DBG] An entity of type 'Booking' tracked by 'AdminContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-10 13:20:53.457 +03:00 [DBG] SaveChanges completed for 'AdminContext' with 1 entities written to the database.
2024-06-10 13:20:53.461 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-06-10 13:20:53.469 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2024-06-10 13:20:53.475 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2024-06-10 13:20:53.479 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'WebApplication1.Models.Booking'.
2024-06-10 13:20:53.520 +03:00 [DBG] Found the endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] for address (id=[57],action=[GetBookingsync],controller=[Booking])
2024-06-10 13:20:53.538 +03:00 [DBG] Successfully processed template api/Booking for WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1) resulting in /api/Booking and ?id=57
2024-06-10 13:20:53.572 +03:00 [DBG] Link generation succeeded for endpoints ["WebApplication1.Controllers.BookingController.GetBookingsync (WebApplication1)"] with result /api/Booking?id=57
2024-06-10 13:20:53.757 +03:00 [INF] Executed action WebApplication1.Controllers.BookingController.AddBooking (WebApplication1) in 623.9704ms
2024-06-10 13:20:53.774 +03:00 [INF] Executed endpoint 'WebApplication1.Controllers.BookingController.AddBooking (WebApplication1)'
2024-06-10 13:20:53.783 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'WebApplication1.Models.Booking'. Path 'employee.bookings'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 13:20:53.878 +03:00 [DBG] Connection id "0HN496RQPJHM3" completed keep alive response.
2024-06-10 13:20:53.882 +03:00 [DBG] 'AdminContext' disposed.
2024-06-10 13:20:53.888 +03:00 [DBG] Disposing connection to database 'Api_database' on server '(localdb)\MSSQLLocalDB'.
2024-06-10 13:20:53.890 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-10 13:20:53.901 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5228/api/Booking?CheckinAt=1998%2F1%2F1&CheckOutAt=1998%2F1%2F1&price=77&EmployeeId=1 - 500 null text/plain; charset=utf-8 814.6494ms
2024-06-10 13:20:56.781 +03:00 [DBG] Connection id "0HN496RQPJHM3" received FIN.
2024-06-10 13:20:56.787 +03:00 [DBG] Connection id "0HN496RQPJHM3" disconnecting.
2024-06-10 13:20:56.798 +03:00 [DBG] Connection id "0HN496RQPJHM3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-10 13:20:56.801 +03:00 [DBG] Connection id "0HN496RQPJHM3" stopped.
